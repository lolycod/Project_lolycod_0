<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â„¹ï¸ æƒ…ç¼˜å¿— - æ±Ÿæ¹–æƒ…ç¼˜ âš”ï¸</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ğŸš€ é˜²æ­¢é¡µé¢é—ªçƒçš„é¢„åŠ è½½æ ·å¼ */
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.loaded {
            visibility: visible;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }

        /* ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶ï¼š3ç§’åå¼ºåˆ¶æ˜¾ç¤ºé¡µé¢ï¼ˆé˜²æ­¢JSå¤±è´¥å¯¼è‡´é¡µé¢æ°¸è¿œä¸æ˜¾ç¤ºï¼‰ */
        html.force-show {
            visibility: visible !important;
            opacity: 1 !important;
        }

        /* æ­¦ä¾ é£æ ¼åŸºç¡€æ ·å¼ */
        body {
            background: url('1/brk/å¾®ä¿¡å›¾ç‰‡_20250713234756.jpg') center center / cover no-repeat fixed,
                        linear-gradient(135deg, #8B0000 0%, #DAA520 50%, #2F4F2F 100%) !important;
            min-height: 100vh;
            font-family: 'KaiTi', 'æ¥·ä½“', serif;
            color: #F5DEB3;
            overflow-x: hidden;
        }
        
        /* å¯¼èˆªæ é€æ˜ */
        .navbar {
            background: transparent !important;
            backdrop-filter: none !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        .navbar-brand {
            color: #FFD700 !important;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
        
        .nav-link {
            color: #F5DEB3 !important;
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.8) 0%,
                rgba(160, 82, 45, 0.7) 30%,
                rgba(210, 180, 140, 0.6) 70%,
                rgba(139, 69, 19, 0.8) 100%
            );
            border: 2px solid #DAA520;
            border-radius: 25px;
            padding: 10px 20px !important;
            margin: 0 5px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #FFD700 !important;
            background: linear-gradient(145deg, 
                rgba(218, 165, 32, 0.9) 0%,
                rgba(255, 215, 0, 0.8) 30%,
                rgba(255, 255, 224, 0.7) 50%,
                rgba(255, 215, 0, 0.8) 70%,
                rgba(218, 165, 32, 0.9) 100%
            );
            transform: translateY(-3px) scale(1.05);
        }
        
        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-content {
            padding: 120px 0;
            min-height: 100vh;
        }
        
        .page-title {
            color: #FFD700;
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .story-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .story-section {
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.15) 0%,
                rgba(160, 82, 45, 0.12) 30%,
                rgba(210, 180, 140, 0.08) 50%,
                rgba(160, 82, 45, 0.12) 70%,
                rgba(139, 69, 19, 0.15) 100%
            );
            border: 3px solid rgba(218, 165, 32, 0.4);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 
                0 12px 30px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                inset 0 -2px 0 rgba(0, 0, 0, 0.15);
        }
        
        .story-title {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .story-content {
            color: #F5DEB3;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            line-height: 1.8;
            text-align: justify;
        }
        
        .story-poem {
            color: #DAA520;
            font-style: italic;
            font-size: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            text-align: center;
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border-left: 4px solid #DAA520;
        }
        
        .counter-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .counter-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .counter-display {
            background: linear-gradient(145deg, 
                rgba(139, 0, 0, 0.9) 0%,
                rgba(178, 34, 34, 0.8) 50%,
                rgba(139, 0, 0, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 20px;
            padding: 2rem;
            display: inline-block;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .counter-number {
            color: #FFD700;
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
        }
        
        .counter-text {
            color: #F5DEB3;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            margin-top: 0.5rem;
        }
        
        /* æ—¶é—´æ˜¾ç¤ºæ ·å¼ */
        .time-display-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .time-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .time-display-container {
            position: relative;
            display: inline-block;
        }
        
        .current-time {
            background: linear-gradient(145deg, 
                rgba(47, 79, 79, 0.9) 0%,
                rgba(70, 130, 180, 0.8) 50%,
                rgba(47, 79, 79, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-width: 300px;
        }
        
        .time-text {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 0.5rem;
        }
        
        .time-subtitle {
            color: #F5DEB3;
            font-size: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }
        
        /* æ•´ç‚¹ç‰¹æ•ˆæ ·å¼ */
        .hourly-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
            border-radius: 20px;
        }
        
        /* å‰‘å½±æ‰«å…‰ç‰¹æ•ˆ */
        .sword-sweep-effect {
            position: absolute;
            top: -10px;
            left: -100%;
            width: 100%;
            height: calc(100% + 20px);
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 215, 0, 0.1) 20%,
                rgba(255, 215, 0, 0.6) 50%,
                rgba(255, 215, 0, 0.1) 80%,
                transparent 100%
            );
            transform: skewX(-20deg);
            animation: swordSweep 2s ease-out;
        }
        
        @keyframes swordSweep {
            0% {
                left: -100%;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }
        
        /* clip-pathæ‰«å…‰ç‰¹æ•ˆ */
        .clip-path-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                rgba(255, 215, 0, 0.3) 0%,
                rgba(255, 215, 0, 0.6) 50%,
                rgba(255, 215, 0, 0.3) 100%
            );
            clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            animation: clipPathSweep 2s ease-out;
        }
        
        @keyframes clipPathSweep {
            0% {
                clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            }
            50% {
                clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
            }
            100% {
                clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
            }
        }
        
        /* SVGè·¯å¾„ç‰¹æ•ˆ */
        .svg-path-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            animation: svgPathFade 2s ease-out;
        }
        
        .svg-path-effect svg {
            width: 100%;
            height: 100%;
        }
        
        .svg-path-effect path {
            stroke: #FFD700;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: svgPathDraw 2s ease-out;
        }
        
        @keyframes svgPathFade {
            0%, 10% { opacity: 0; }
            20%, 80% { opacity: 1; }
            90%, 100% { opacity: 0; }
        }
        
        @keyframes svgPathDraw {
            0% { stroke-dashoffset: 1000; }
            100% { stroke-dashoffset: 0; }
        }
        
        /* å†œå†æ˜¾ç¤ºæ ·å¼ */
        .lunar-display-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .lunar-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .lunar-scroll-container {
            display: inline-block;
            position: relative;
        }
        
        .lunar-scroll {
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.9) 0%,
                rgba(160, 82, 45, 0.8) 30%,
                rgba(210, 180, 140, 0.6) 50%,
                rgba(160, 82, 45, 0.8) 70%,
                rgba(139, 69, 19, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 15px;
            padding: 2rem 1.5rem;
            min-width: 280px;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                inset 0 -2px 0 rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .lunar-scroll::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="scroll-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="%23DAA520" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23scroll-pattern)"/></svg>');
            opacity: 0.3;
            pointer-events: none;
        }
        
        .scroll-header, .scroll-footer {
            color: #DAA520;
            font-size: 0.9rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }
        
        .lunar-content {
            position: relative;
            z-index: 1;
            margin: 1.5rem 0;
        }
        
        .ganZhi-text {
            color: #FFD700;
            font-size: 1.4rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 0.8rem;
        }
        
        .lunar-date {
            color: #F5DEB3;
            font-size: 1.6rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            margin-bottom: 0.8rem;
        }
        
        .solar-term {
            color: #98FB98;
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(152, 251, 152, 0.3);
        }
        
        /* å·è½´å±•å¼€åŠ¨ç”» */
        .lunar-scroll.unfold {
            animation: scrollUnfold 1s ease-out;
        }
        
        @keyframes scrollUnfold {
            0% {
                transform: scaleY(0.1) rotateX(90deg);
                opacity: 0;
            }
            50% {
                transform: scaleY(0.5) rotateX(45deg);
                opacity: 0.5;
            }
            100% {
                transform: scaleY(1) rotateX(0deg);
                opacity: 1;
            }
        }
        
        /* é¡µè„š */
        .wuxia-footer {
            background: linear-gradient(145deg, 
                rgba(0, 0, 0, 0.8) 0%,
                rgba(32, 32, 32, 0.7) 50%,
                rgba(0, 0, 0, 0.8) 100%
            );
            backdrop-filter: blur(5px);
            border-top: 3px solid #DAA520;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
            padding: 2rem 0;
            text-align: center;
            color: #F5DEB3;
        }
        
        .footer-seal {
            background: linear-gradient(145deg, 
                rgba(218, 165, 32, 0.9) 0%,
                rgba(255, 215, 0, 0.8) 50%,
                rgba(218, 165, 32, 0.9) 100%
            );
            color: #000000;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
            border: 3px solid #000000;
            border-radius: 50%;
            padding: 8px 15px;
            font-weight: 900;
            display: inline-block;
            margin-bottom: 0.5rem;
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .footer-seal:hover {
            transform: scale(1.05) rotate(5deg);
        }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2rem;
            }
            
            .story-container {
                padding: 1rem;
            }
            
            .counter-number {
                font-size: 3rem;
            }
            
            .nav-link {
                margin: 2px;
                padding: 8px 16px !important;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-sword me-2"></i>æ±Ÿæ¹–æƒ…ç¼˜
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>æ±Ÿæ¹–
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="memories.html">
                            <i class="fas fa-images me-1"></i>å›å¿†å½•
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="about.html">
                            <i class="fas fa-info-circle me-1"></i>æƒ…ç¼˜å¿—
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">â„¹ï¸ æ±Ÿæ¹–æƒ…ç¼˜å¿— â„¹ï¸</h1>
            
            <div class="story-container">
                <!-- é™ªä¼´è®¡æ•°å™¨ -->
                <div class="counter-section">
                    <h2 class="counter-title">ğŸ® é™ªä¼´æ—¶å…‰ ğŸ®</h2>
                    <div class="counter-display">
                        <div class="counter-number" id="dayCounter">32</div>
                        <div class="counter-text" id="counterText">å¤©çš„æ±Ÿæ¹–æƒ…ç¼˜</div>
                    </div>
                </div>

                <!-- å®æ—¶æ—¶é—´æ˜¾ç¤º -->
                <div class="time-display-section">
                    <h2 class="time-title">â° æ±Ÿæ¹–æ—¶è¾° â°</h2>
                    <div class="time-display-container">
                        <div class="current-time" id="currentTimeDisplay">
                            <div class="time-text" id="timeText">2025å¹´07æœˆ17æ—¥ 12:00:00</div>
                            <div class="time-subtitle">å½“å‰æ—¶è¾°</div>
                        </div>
                        <!-- æ•´ç‚¹ç‰¹æ•ˆå®¹å™¨ -->
                        <div class="hourly-effect" id="hourlyEffect"></div>
                    </div>
                </div>

                <!-- å†œå†æ—¥æœŸæ˜¾ç¤º -->
                <div class="lunar-display-section">
                    <h2 class="lunar-title">ğŸŒ™ å†œå†æ—¶å…‰ ğŸŒ™</h2>
                    <div class="lunar-scroll-container">
                        <div class="lunar-scroll" id="lunarScrollDisplay">
                            <div class="scroll-header">æ±Ÿæ¹–å†æ³•</div>
                            <div class="lunar-content" id="lunarContent">
                                <div class="ganZhi-text" id="ganZhiText">ç”²è¾°å¹´</div>
                                <div class="lunar-date" id="lunarDate">ä¸ƒæœˆåˆäºŒ</div>
                                <div class="solar-term" id="solarTerm">å¤„æš‘</div>
                            </div>
                            <div class="scroll-footer">å¤©é“è½®å›</div>
                        </div>
                    </div>
                </div>
                
                <!-- æƒ…ç¼˜æ•…äº‹ -->
                <div class="story-section">
                    <h3 class="story-title">âš”ï¸ æ±Ÿæ¹–åˆé‡ âš”ï¸</h3>
                    <div class="story-content">
                        åœ¨è¿™ä¸ªå……æ»¡ä¼ å¥‡çš„æ±Ÿæ¹–ä¸–ç•Œé‡Œï¼Œæˆ‘é‡è§äº†æŸ’æŸ’ã€‚é‚£ä¸€åˆ»ï¼Œä»¿ä½›æ•´ä¸ªæ±Ÿæ¹–éƒ½ä¸ºä¹‹é™æ­¢ï¼Œåªæœ‰å¥¹çš„ç¬‘å®¹å¦‚æ˜¥é£èˆ¬æ¸©æš–ã€‚ä»é‚£æ—¶èµ·ï¼Œæˆ‘ä¾¿çŸ¥é“ï¼Œè¿™ä¸€ç”Ÿçš„æ±Ÿæ¹–è·¯ï¼Œæˆ‘æ„¿ä¸å¥¹æºæ‰‹åŒè¡Œã€‚
                    </div>
                    <div class="story-poem">"åˆè§å€¾åŸè‰²ï¼Œå†è§å€¾åŸå¿ƒ"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">ğŸŒ™ æƒ…æ·±å¦‚æµ· ğŸŒ™</h3>
                    <div class="story-content">
                        æ±Ÿæ¹–è·¯æ¼«æ¼«ï¼Œé£é›¨å…¼ç¨‹ã€‚ä½†æœ‰äº†æŸ’æŸ’çš„é™ªä¼´ï¼Œå†è‰°éš¾çš„è·¯ä¹Ÿå˜å¾—æ¸©æš–å¦‚æ˜¥ã€‚æˆ‘ä»¬ä¸€èµ·çœ‹è¿‡æ±Ÿæ¹–çš„æ—¥å‡ºæ—¥è½ï¼Œèµ°è¿‡å±±å·æ²³æµï¼Œæ¯ä¸€ä¸ªç¬é—´éƒ½æˆä¸ºäº†æœ€çè´µçš„å›å¿†ã€‚
                    </div>
                    <div class="story-poem">"æƒ…æ·±ä¸è´Ÿç›¸æ€æ„ï¼Œæ­¤å¿ƒåªä¸ºä¼Šäººç—´"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">ğŸµ ç´ç‘Ÿå’Œé¸£ ğŸµ</h3>
                    <div class="story-content">
                        åœ¨è¿™ä¸ªæ­¦ä¾ é£æ ¼çš„å›å¿†å½•ä¸­ï¼Œè®°å½•ç€æˆ‘ä»¬çš„ç‚¹ç‚¹æ»´æ»´ã€‚æ¯ä¸€å¼ ç…§ç‰‡éƒ½æ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œæ¯ä¸€ä¸ªæ•…äº‹éƒ½æ‰¿è½½ç€æˆ‘ä»¬çš„æƒ…æ„Ÿã€‚æ„¿è¿™ä»½æƒ…ç¼˜èƒ½å¤Ÿä¼ æ‰¿ä¸‹å»ï¼Œæˆä¸ºæ±Ÿæ¹–ä¸­æœ€ç¾çš„ä¼ è¯´ã€‚
                    </div>
                    <div class="story-poem">"ç´ç‘Ÿå’Œé¸£å¥åç« ï¼Œæ­¤ç”Ÿä¸å›å…±å¾œå¾‰"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">ğŸ® æ°¸æ’èª“è¨€ ğŸ®</h3>
                    <div class="story-content">
                        çºµç„¶æ±Ÿæ¹–é™©æ¶ï¼Œä¸–äº‹æ— å¸¸ï¼Œä½†æˆ‘å¯¹æŸ’æŸ’çš„æƒ…æ„æ°¸ä¸æ”¹å˜ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚è¿™æ­¦ä¾ ä¼ è¯´èˆ¬ï¼Œæµä¼ åƒå¤ï¼Œæˆä¸ºåäººä¼ é¢‚çš„ä½³è¯ã€‚æ­¤ç”Ÿæ­¤ä¸–ï¼Œå”¯æ„¿ä¸å›ä¸ç¦»ä¸å¼ƒï¼Œå…±åº¦æ±Ÿæ¹–å²æœˆã€‚
                    </div>
                    <div class="story-poem">"å±±æ— é™µï¼Œæ±Ÿæ°´ä¸ºç«­ï¼Œæ­¤æƒ…ä¸ç»"</div>
                </div>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="wuxia-footer">
        <div class="container">
            <div class="footer-seal">æ±Ÿæ¹–æƒ…ç¼˜</div>
            <p style="margin: 0; font-size: 0.9rem;">âš”ï¸ &copy; 2025 æ±Ÿæ¹–æƒ…ç¼˜ - æ­¦ä¾ é£æ ¼å›å¿†å½• âš”ï¸</p>
            <p style="margin: 0; font-size: 0.8rem;">ğŸ® ä»¥æ­¦ä¾ é£æ ¼è®°å½•ï¼Œä¼ æ‰¿æ±Ÿæ¹–æƒ…ç¼˜ ğŸ®</p>
            <p style="margin: 0; font-size: 0.7rem; color: #DAA520; opacity: 0.8;">ä½œè€…ï¼šlolycod</p>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Lunar JavaScript åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/dist/lunar.min.js"></script>

    <!-- é…ç½®æ–‡ä»¶ -->
    <script src="config.js"></script>

    <!-- å…¬å…±åˆå§‹åŒ–æ¨¡å— -->
    <script src="common-init.js"></script>

    <!-- æ¨¡å—ç®¡ç†å™¨ -->
    <script src="module-manager.js"></script>

    <!-- å¿«é€Ÿä¿®å¤è„šæœ¬ -->
    <script src="quick-fix.js"></script>

    <!-- ç§»åŠ¨ç«¯æ€§èƒ½ä¼˜åŒ–è„šæœ¬ -->
    <script async src="mobile-optimization.js"></script>

    <!-- ç²¾ç¡®è®¾å¤‡æ£€æµ‹å™¨ -->
    <script src="device-detector.js"></script>

    <!-- ç§»åŠ¨ç«¯æ™ºèƒ½é‡å®šå‘è„šæœ¬ -->
    <script async src="mobile-redirect.js"></script>

    <script>
        console.log('â„¹ï¸ æƒ…ç¼˜å¿—é¡µé¢å¯åŠ¨...');
        
        // ğŸ• TimeDisplayModule - æ—¶é—´æ˜¾ç¤ºæ¨¡å—
        class TimeDisplayModule {
            constructor(config = {}) {
                this.config = {
                    enabled: true,
                    showSeconds: true,
                    format: 'YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss',
                    enableHourlyEffect: true,
                    effectType: 'sword-sweep',
                    effectDuration: 2000,
                    ...config
                };
                
                this.timeElement = null;
                this.effectElement = null;
                this.updateInterval = null;
                this.lastHour = -1;
                
                console.log('ğŸ• TimeDisplayModule åˆå§‹åŒ–å®Œæˆ', this.config);
            }
            
            // åˆå§‹åŒ–æ—¶é—´æ˜¾ç¤ºæ¨¡å—
            init() {
                try {
                    if (!this.config.enabled) {
                        console.log('â¸ï¸ æ—¶é—´æ˜¾ç¤ºæ¨¡å—å·²ç¦ç”¨');
                        return { success: false, message: 'æ¨¡å—å·²ç¦ç”¨' };
                    }
                    
                    // è·å–DOMå…ƒç´ 
                    this.timeElement = document.getElementById('timeText');
                    this.effectElement = document.getElementById('hourlyEffect');
                    
                    if (!this.timeElement) {
                        throw new Error('æ‰¾ä¸åˆ°æ—¶é—´æ˜¾ç¤ºå…ƒç´  #timeText');
                    }
                    
                    // ç«‹å³æ›´æ–°ä¸€æ¬¡æ—¶é—´
                    this.updateTime();
                    
                    // å¯åŠ¨å®šæ—¶æ›´æ–°
                    this.startTimeUpdate();
                    
                    console.log('âœ… TimeDisplayModule åˆå§‹åŒ–æˆåŠŸ');
                    return { success: true, message: 'æ—¶é—´æ˜¾ç¤ºæ¨¡å—åˆå§‹åŒ–æˆåŠŸ' };
                    
                } catch (error) {
                    console.error('âŒ TimeDisplayModule åˆå§‹åŒ–å¤±è´¥:', error);
                    return { success: false, error: error.message };
                }
            }
            
            // å¯åŠ¨æ—¶é—´æ›´æ–°
            startTimeUpdate() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                }
                
                this.updateInterval = setInterval(() => {
                    this.updateTime();
                }, 1000);
                
                console.log('â° æ—¶é—´æ›´æ–°å®šæ—¶å™¨å·²å¯åŠ¨');
            }
            
            // åœæ­¢æ—¶é—´æ›´æ–°
            stopTimeUpdate() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                    this.updateInterval = null;
                    console.log('â¹ï¸ æ—¶é—´æ›´æ–°å®šæ—¶å™¨å·²åœæ­¢');
                }
            }
            
            // æ›´æ–°æ—¶é—´æ˜¾ç¤º
            updateTime() {
                try {
                    const now = new Date();
                    const formattedTime = this.formatTime(now);
                    
                    if (this.timeElement) {
                        this.timeElement.textContent = formattedTime;
                    }
                    
                    // æ£€æŸ¥æ˜¯å¦æ•´ç‚¹
                    if (this.config.enableHourlyEffect && this.isHourlyMoment(now)) {
                        this.triggerHourlyEffect();
                    }
                    
                } catch (error) {
                    console.error('âŒ æ—¶é—´æ›´æ–°å¤±è´¥:', error);
                }
            }
            
            // æ ¼å¼åŒ–æ—¶é—´
            formatTime(date) {
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const hour = String(date.getHours()).padStart(2, '0');
                const minute = String(date.getMinutes()).padStart(2, '0');
                const second = String(date.getSeconds()).padStart(2, '0');
                
                let formatted = this.config.format;
                formatted = formatted.replace('YYYY', year);
                formatted = formatted.replace('MM', month);
                formatted = formatted.replace('DD', day);
                formatted = formatted.replace('HH', hour);
                formatted = formatted.replace('mm', minute);
                
                if (this.config.showSeconds) {
                    formatted = formatted.replace('ss', second);
                } else {
                    formatted = formatted.replace(':ss', '').replace(' ss', '');
                }
                
                return formatted;
            }
            
            // æ£€æŸ¥æ˜¯å¦æ•´ç‚¹æ—¶åˆ»
            isHourlyMoment(date) {
                const currentHour = date.getHours();
                const currentMinute = date.getMinutes();
                const currentSecond = date.getSeconds();
                
                // æ•´ç‚¹çš„å‰3ç§’å†…è§¦å‘ç‰¹æ•ˆï¼ˆé¿å…é‡å¤è§¦å‘ï¼‰
                if (currentMinute === 0 && currentSecond <= 3 && this.lastHour !== currentHour) {
                    this.lastHour = currentHour;
                    return true;
                }
                
                return false;
            }
            
            // è§¦å‘æ•´ç‚¹ç‰¹æ•ˆ
            triggerHourlyEffect() {
                if (!this.effectElement) {
                    console.warn('âš ï¸ æ‰¾ä¸åˆ°ç‰¹æ•ˆå®¹å™¨å…ƒç´ ');
                    return;
                }
                
                try {
                    // æ¸…é™¤ä¹‹å‰çš„ç‰¹æ•ˆ
                    this.effectElement.innerHTML = '';
                    
                    // åˆ›å»ºç‰¹æ•ˆå…ƒç´ 
                    const effectDiv = document.createElement('div');
                    
                    switch (this.config.effectType) {
                        case 'sword-sweep':
                            effectDiv.className = 'sword-sweep-effect';
                            break;
                        case 'clip-path':
                            effectDiv.className = 'clip-path-effect';
                            break;
                        case 'svg-path':
                            effectDiv.className = 'svg-path-effect';
                            effectDiv.innerHTML = `
                                <svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0,50 Q75,10 150,50 T300,50" stroke="#FFD700" stroke-width="2" fill="none"/>
                                    <path d="M0,30 Q75,70 150,30 T300,30" stroke="#FFD700" stroke-width="1" fill="none"/>
                                    <path d="M0,70 Q75,30 150,70 T300,70" stroke="#FFD700" stroke-width="1" fill="none"/>
                                </svg>
                            `;
                            break;
                        default:
                            effectDiv.className = 'sword-sweep-effect';
                    }
                    
                    this.effectElement.appendChild(effectDiv);
                    
                    // ç‰¹æ•ˆç»“æŸåæ¸…ç†
                    setTimeout(() => {
                        if (this.effectElement && effectDiv.parentNode) {
                            this.effectElement.removeChild(effectDiv);
                        }
                    }, this.config.effectDuration);
                    
                    console.log('âš”ï¸ æ•´ç‚¹ç‰¹æ•ˆå·²è§¦å‘:', this.config.effectType);
                    
                } catch (error) {
                    console.error('âŒ ç‰¹æ•ˆè§¦å‘å¤±è´¥:', error);
                }
            }
            
            // è·å–å½“å‰æ—¶é—´ä¿¡æ¯
            getCurrentTimeInfo() {
                const now = new Date();
                return {
                    timestamp: now.getTime(),
                    formatted: this.formatTime(now),
                    year: now.getFullYear(),
                    month: now.getMonth() + 1,
                    day: now.getDate(),
                    hour: now.getHours(),
                    minute: now.getMinutes(),
                    second: now.getSeconds(),
                    isHourly: this.isHourlyMoment(now)
                };
            }
            
            // æ›´æ–°é…ç½®
            updateConfig(newConfig) {
                this.config = { ...this.config, ...newConfig };
                console.log('ğŸ”„ TimeDisplayModule é…ç½®å·²æ›´æ–°', this.config);
                
                // å¦‚æœæ¨¡å—è¢«ç¦ç”¨ï¼Œåœæ­¢æ›´æ–°
                if (!this.config.enabled) {
                    this.stopTimeUpdate();
                } else if (!this.updateInterval) {
                    this.startTimeUpdate();
                }
            }
            
            // æ‰‹åŠ¨è§¦å‘ç‰¹æ•ˆï¼ˆç”¨äºæµ‹è¯•ï¼‰
            testHourlyEffect() {
                console.log('ğŸ§ª æ‰‹åŠ¨è§¦å‘æ•´ç‚¹ç‰¹æ•ˆæµ‹è¯•');
                this.triggerHourlyEffect();
            }
            
            // é”€æ¯æ¨¡å—
            destroy() {
                this.stopTimeUpdate();
                this.timeElement = null;
                this.effectElement = null;
                console.log('ğŸ—‘ï¸ TimeDisplayModule å·²é”€æ¯');
            }
        }
        
        // å…¨å±€æ—¶é—´æ˜¾ç¤ºæ¨¡å—å®ä¾‹
        let timeDisplayModule = null;
        
        // ğŸŒ™ LunarCalendarModule - å†œå†è®¡ç®—æ¨¡å—
        class LunarCalendarModule {
            constructor(config = {}) {
                this.config = {
                    enabled: true,
                    showGanZhi: true,
                    showSolarTerm: true,
                    displayFormat: '{ganZhi} {lunar} {solarTerm}',
                    scrollStyle: 'traditional',
                    scrollAnimation: true,
                    ...config
                };
                
                this.lunarLib = null;
                this.ganZhiElement = null;
                this.lunarDateElement = null;
                this.solarTermElement = null;
                this.scrollElement = null;
                
                console.log('ğŸŒ™ LunarCalendarModule åˆå§‹åŒ–å®Œæˆ', this.config);
            }
            
            // åˆå§‹åŒ–å†œå†æ¨¡å—
            init() {
                try {
                    if (!this.config.enabled) {
                        console.log('â¸ï¸ å†œå†æ˜¾ç¤ºæ¨¡å—å·²ç¦ç”¨');
                        return { success: false, message: 'æ¨¡å—å·²ç¦ç”¨' };
                    }
                    
                    // æ£€æŸ¥lunar-javascriptåº“æ˜¯å¦åŠ è½½
                    if (typeof Lunar === 'undefined') {
                        console.warn('âš ï¸ lunar-javascriptåº“æœªåŠ è½½ï¼Œä½¿ç”¨é™çº§æ–¹æ¡ˆ');
                        this.showFallbackDisplay();
                        return { success: true, message: 'ä½¿ç”¨é™çº§æ–¹æ¡ˆæ˜¾ç¤ºå†œå†ä¿¡æ¯' };
                    }
                    
                    this.lunarLib = Lunar;
                    
                    // è·å–DOMå…ƒç´ 
                    this.ganZhiElement = document.getElementById('ganZhiText');
                    this.lunarDateElement = document.getElementById('lunarDate');
                    this.solarTermElement = document.getElementById('solarTerm');
                    this.scrollElement = document.getElementById('lunarScrollDisplay');
                    
                    if (!this.ganZhiElement || !this.lunarDateElement || !this.solarTermElement) {
                        throw new Error('æ‰¾ä¸åˆ°å†œå†æ˜¾ç¤ºå…ƒç´ ');
                    }
                    
                    // ç«‹å³æ›´æ–°ä¸€æ¬¡å†œå†ä¿¡æ¯
                    this.updateLunarInfo();
                    
                    // è§¦å‘å·è½´å±•å¼€åŠ¨ç”»
                    if (this.config.scrollAnimation && this.scrollElement) {
                        setTimeout(() => {
                            this.scrollElement.classList.add('unfold');
                        }, 200);
                    }
                    
                    console.log('âœ… LunarCalendarModule åˆå§‹åŒ–æˆåŠŸ');
                    return { success: true, message: 'å†œå†æ˜¾ç¤ºæ¨¡å—åˆå§‹åŒ–æˆåŠŸ' };
                    
                } catch (error) {
                    console.error('âŒ LunarCalendarModule åˆå§‹åŒ–å¤±è´¥:', error);
                    this.showFallbackDisplay();
                    return { success: false, error: error.message };
                }
            }
            
            // æ›´æ–°å†œå†ä¿¡æ¯
            updateLunarInfo() {
                try {
                    const now = new Date();
                    const lunarInfo = this.getCurrentLunarInfo(now);
                    
                    // æ›´æ–°å¹²æ”¯çºªå¹´
                    if (this.config.showGanZhi && this.ganZhiElement) {
                        this.ganZhiElement.textContent = lunarInfo.ganZhi.year;
                    }
                    
                    // æ›´æ–°å†œå†æ—¥æœŸ
                    if (this.lunarDateElement) {
                        this.lunarDateElement.textContent = lunarInfo.lunar.formatted;
                    }
                    
                    // æ›´æ–°èŠ‚æ°”
                    if (this.config.showSolarTerm && this.solarTermElement) {
                        this.solarTermElement.textContent = lunarInfo.solarTerm.name || 'æ— èŠ‚æ°”';
                    }
                    
                    console.log('ğŸŒ™ å†œå†ä¿¡æ¯å·²æ›´æ–°:', lunarInfo);
                    
                } catch (error) {
                    console.error('âŒ å†œå†ä¿¡æ¯æ›´æ–°å¤±è´¥:', error);
                    this.showFallbackDisplay();
                }
            }
            
            // è·å–å½“å‰å†œå†ä¿¡æ¯
            getCurrentLunarInfo(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    
                    // è·å–å¹²æ”¯çºªå¹´
                    const ganZhi = {
                        year: lunar.getYearInGanZhi() + 'å¹´',
                        month: lunar.getMonthInGanZhi() + 'æœˆ',
                        day: lunar.getDayInGanZhi() + 'æ—¥'
                    };
                    
                    // è·å–å†œå†æ—¥æœŸ
                    const lunarDate = {
                        year: lunar.getYear(),
                        month: lunar.getMonth(),
                        day: lunar.getDay(),
                        monthName: lunar.getMonthInChinese(),
                        dayName: lunar.getDayInChinese(),
                        formatted: `${lunar.getMonthInChinese()}${lunar.getDayInChinese()}`
                    };
                    
                    // è·å–èŠ‚æ°”ä¿¡æ¯
                    const jieQi = lunar.getCurrentJieQi();
                    const solarTerm = {
                        name: jieQi ? jieQi.getName() : null,
                        date: jieQi ? jieQi.getSolar().toYmd() : null
                    };
                    
                    return {
                        ganZhi: ganZhi,
                        lunar: lunarDate,
                        solarTerm: solarTerm,
                        formatted: this.formatLunarDisplay(ganZhi, lunarDate, solarTerm)
                    };
                    
                } catch (error) {
                    console.error('âŒ å†œå†ä¿¡æ¯è®¡ç®—å¤±è´¥:', error);
                    return this.getFallbackLunarInfo();
                }
            }
            
            // æ ¼å¼åŒ–å†œå†æ˜¾ç¤º
            formatLunarDisplay(ganZhi, lunar, solarTerm) {
                let formatted = this.config.displayFormat;
                
                formatted = formatted.replace('{ganZhi}', ganZhi.year);
                formatted = formatted.replace('{lunar}', lunar.formatted);
                formatted = formatted.replace('{solarTerm}', solarTerm.name || '');
                
                return formatted.trim();
            }
            
            // è·å–å¤‡ç”¨å†œå†ä¿¡æ¯
            getFallbackLunarInfo() {
                const now = new Date();
                return {
                    ganZhi: {
                        year: 'ç”²è¾°å¹´',
                        month: 'åºšç”³æœˆ',
                        day: 'ä¹™å¯æ—¥'
                    },
                    lunar: {
                        year: 2024,
                        month: 7,
                        day: 2,
                        monthName: 'ä¸ƒæœˆ',
                        dayName: 'åˆäºŒ',
                        formatted: 'ä¸ƒæœˆåˆäºŒ'
                    },
                    solarTerm: {
                        name: 'å¤„æš‘',
                        date: null
                    },
                    formatted: 'ç”²è¾°å¹´ ä¸ƒæœˆåˆäºŒ å¤„æš‘'
                };
            }
            
            // æ˜¾ç¤ºå¤‡ç”¨ä¿¡æ¯
            showFallbackDisplay() {
                try {
                    const fallback = this.getFallbackLunarInfo();
                    
                    if (this.ganZhiElement) {
                        this.ganZhiElement.textContent = fallback.ganZhi.year;
                    }
                    
                    if (this.lunarDateElement) {
                        this.lunarDateElement.textContent = fallback.lunar.formatted;
                    }
                    
                    if (this.solarTermElement) {
                        this.solarTermElement.textContent = fallback.solarTerm.name;
                    }
                    
                    console.log('âš ï¸ ä½¿ç”¨å¤‡ç”¨å†œå†ä¿¡æ¯æ˜¾ç¤º');
                    
                } catch (error) {
                    console.error('âŒ å¤‡ç”¨æ˜¾ç¤ºä¹Ÿå¤±è´¥äº†:', error);
                }
            }
            
            // è·å–å¹²æ”¯çºªå¹´
            getGanZhiYear(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    return lunar.getYearInGanZhi() + 'å¹´';
                } catch (error) {
                    console.error('âŒ è·å–å¹²æ”¯çºªå¹´å¤±è´¥:', error);
                    return 'ç”²è¾°å¹´';
                }
            }
            
            // è·å–å†œå†æ—¥æœŸ
            getLunarDate(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    return `${lunar.getMonthInChinese()}${lunar.getDayInChinese()}`;
                } catch (error) {
                    console.error('âŒ è·å–å†œå†æ—¥æœŸå¤±è´¥:', error);
                    return 'ä¸ƒæœˆåˆäºŒ';
                }
            }
            
            // è·å–å½“å‰èŠ‚æ°”
            getCurrentSolarTerm(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    const jieQi = lunar.getCurrentJieQi();
                    
                    if (jieQi) {
                        return {
                            name: jieQi.getName(),
                            date: jieQi.getSolar().toYmd(),
                            isToday: jieQi.getSolar().toYmd() === solar.toYmd()
                        };
                    } else {
                        // å¦‚æœå½“å‰æ²¡æœ‰èŠ‚æ°”ï¼Œè·å–ä¸‹ä¸€ä¸ªèŠ‚æ°”
                        const nextJieQi = lunar.getNextJieQi();
                        return {
                            name: nextJieQi ? `è·${nextJieQi.getName()}` : 'æ— èŠ‚æ°”',
                            date: nextJieQi ? nextJieQi.getSolar().toYmd() : null,
                            isToday: false
                        };
                    }
                } catch (error) {
                    console.error('âŒ è·å–èŠ‚æ°”å¤±è´¥:', error);
                    return {
                        name: 'å¤„æš‘',
                        date: null,
                        isToday: false
                    };
                }
            }
            
            // è·å–è¯¦ç»†çš„èŠ‚æ°”ä¿¡æ¯
            getDetailedSolarTermInfo(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    
                    const currentJieQi = lunar.getCurrentJieQi();
                    const nextJieQi = lunar.getNextJieQi();
                    const prevJieQi = lunar.getPrevJieQi();
                    
                    return {
                        current: currentJieQi ? {
                            name: currentJieQi.getName(),
                            date: currentJieQi.getSolar().toYmd(),
                            isToday: currentJieQi.getSolar().toYmd() === solar.toYmd()
                        } : null,
                        next: nextJieQi ? {
                            name: nextJieQi.getName(),
                            date: nextJieQi.getSolar().toYmd(),
                            daysUntil: this.calculateDaysBetween(solar.toDate(), nextJieQi.getSolar().toDate())
                        } : null,
                        prev: prevJieQi ? {
                            name: prevJieQi.getName(),
                            date: prevJieQi.getSolar().toYmd(),
                            daysSince: this.calculateDaysBetween(prevJieQi.getSolar().toDate(), solar.toDate())
                        } : null
                    };
                } catch (error) {
                    console.error('âŒ è·å–è¯¦ç»†èŠ‚æ°”ä¿¡æ¯å¤±è´¥:', error);
                    return null;
                }
            }
            
            // è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°
            calculateDaysBetween(date1, date2) {
                const timeDiff = Math.abs(date2.getTime() - date1.getTime());
                return Math.ceil(timeDiff / (1000 * 3600 * 24));
            }
            
            // æ›´æ–°é…ç½®
            updateConfig(newConfig) {
                this.config = { ...this.config, ...newConfig };
                console.log('ğŸ”„ LunarCalendarModule é…ç½®å·²æ›´æ–°', this.config);
                
                // é‡æ–°æ›´æ–°æ˜¾ç¤º
                if (this.config.enabled) {
                    this.updateLunarInfo();
                }
            }
            
            // é”€æ¯æ¨¡å—
            destroy() {
                this.lunarLib = null;
                this.ganZhiElement = null;
                this.lunarDateElement = null;
                this.solarTermElement = null;
                this.scrollElement = null;
                console.log('ğŸ—‘ï¸ LunarCalendarModule å·²é”€æ¯');
            }
        }
        
        // å…¨å±€å†œå†æ˜¾ç¤ºæ¨¡å—å®ä¾‹
        let lunarCalendarModule = null;
        
        // è®¡ç®—é™ªä¼´å¤©æ•° - ä»config.jsè¯»å–é…ç½®ï¼ŒåŸºäºåŒ—äº¬æ—¶é—´æ¯å¤©é€’å¢
        function updateDayCounter() {
            // ä½¿ç”¨config.jsä¸­çš„é…ç½®
            const displayDays = calculateDayCounter();

            // æ›´æ–°æ•°å­—
            const counterElement = document.getElementById('dayCounter');
            if (counterElement) {
                counterElement.textContent = displayDays;
                console.log('ğŸ“… é™ªä¼´å¤©æ•°æ›´æ–°:', displayDays, '(é…ç½®æ–‡ä»¶: config.js)');
            }

            // æ›´æ–°æ–‡æœ¬ï¼ˆä»é…ç½®ä¸­è¯»å–ï¼‰
            const counterTextElement = document.getElementById('counterText');
            if (counterTextElement) {
                let counterText = 'å¤©çš„æ±Ÿæ¹–æƒ…ç¼˜'; // é»˜è®¤å€¼

                // å°è¯•ä»USER_SIMPLE_CONFIGè¯»å–
                if (typeof USER_SIMPLE_CONFIG !== 'undefined' &&
                    USER_SIMPLE_CONFIG.texts &&
                    USER_SIMPLE_CONFIG.texts.pages &&
                    USER_SIMPLE_CONFIG.texts.pages.counterText) {
                    counterText = USER_SIMPLE_CONFIG.texts.pages.counterText;
                }
                // å°è¯•ä»WEBSITE_CONFIGè¯»å–
                else if (typeof WEBSITE_CONFIG !== 'undefined' &&
                         WEBSITE_CONFIG.uiText &&
                         WEBSITE_CONFIG.uiText.pages &&
                         WEBSITE_CONFIG.uiText.pages.about &&
                         WEBSITE_CONFIG.uiText.pages.about.elements &&
                         WEBSITE_CONFIG.uiText.pages.about.elements.counterText) {
                    counterText = WEBSITE_CONFIG.uiText.pages.about.elements.counterText;
                }

                counterTextElement.textContent = counterText;
                console.log('ğŸ“ è®¡æ•°å™¨æ–‡æœ¬æ›´æ–°:', counterText);
            }
        }
        
        // åŠ è½½æ•…äº‹å†…å®¹
        function loadStories() {
            const stories = WEBSITE_CONFIG.userCustomization.stories;
            const storyContainer = document.querySelector('.story-container');

            // æ‰¾åˆ°é™ªä¼´è®¡æ•°å™¨åé¢çš„ä½ç½®
            const counterSection = document.querySelector('.counter-section');

            // æ¸…é™¤ç°æœ‰çš„æ•…äº‹å†…å®¹ï¼ˆä¿ç•™è®¡æ•°å™¨ï¼‰
            const existingStories = storyContainer.querySelectorAll('.story-section');
            existingStories.forEach(story => story.remove());

            // æ·»åŠ æ–°çš„æ•…äº‹å†…å®¹
            stories.forEach(story => {
                const storyElement = document.createElement('div');
                storyElement.className = 'story-section';
                storyElement.innerHTML = `
                    <h3 class="story-title">${story.title}</h3>
                    <div class="story-content">${story.content}</div>
                    <div class="story-poem">${story.poem}</div>
                `;
                storyContainer.appendChild(storyElement);
            });
        }

        // åˆå§‹åŒ–å†œå†æ˜¾ç¤ºæ¨¡å—
        function initLunarCalendarModule() {
            try {
                // ä»config.jsè·å–å†œå†æ˜¾ç¤ºé…ç½®
                const lunarConfig = ConfigManager ? ConfigManager.get('lunarCalendar', {}) : USER_SIMPLE_CONFIG.lunarCalendar || {};

                // åˆ›å»ºå†œå†æ˜¾ç¤ºæ¨¡å—å®ä¾‹
                lunarCalendarModule = new LunarCalendarModule(lunarConfig);

                // åˆå§‹åŒ–æ¨¡å—
                const result = lunarCalendarModule.init();

                if (result.success) {
                    console.log('âœ… å†œå†æ˜¾ç¤ºæ¨¡å—å¯åŠ¨æˆåŠŸ');
                } else {
                    console.warn('âš ï¸ å†œå†æ˜¾ç¤ºæ¨¡å—å¯åŠ¨å¤±è´¥:', result.message);
                }

                return result;

            } catch (error) {
                console.error('âŒ å†œå†æ˜¾ç¤ºæ¨¡å—åˆå§‹åŒ–å¼‚å¸¸:', error);
                return { success: false, error: error.message };
            }
        }

        // åˆå§‹åŒ–æ¨¡å—ç®¡ç†å™¨å’Œæ‰€æœ‰æ¨¡å—
        function initModuleManager() {
            try {
                console.log('ğŸ”§ å¼€å§‹é…ç½®æ¨¡å—ç®¡ç†å™¨...');

                // æ³¨å†Œæ—¶é—´æ˜¾ç¤ºæ¨¡å—
                moduleManager.register('timeDisplay', TimeDisplayModule, {
                    config: ConfigManager ? ConfigManager.get('timeDisplay', {}) : USER_SIMPLE_CONFIG.timeDisplay || {},
                    autoInit: true,
                    priority: 10,
                    initDelay: 100 // å»¶è¿Ÿ100msç¡®ä¿é…ç½®å·²åŠ è½½
                });

                // æ³¨å†Œå†œå†æ˜¾ç¤ºæ¨¡å—
                moduleManager.register('lunarCalendar', LunarCalendarModule, {
                    config: ConfigManager ? ConfigManager.get('lunarCalendar', {}) : USER_SIMPLE_CONFIG.lunarCalendar || {},
                    autoInit: true,
                    priority: 5,
                    initDelay: 200 // å»¶è¿Ÿ200msç¡®ä¿lunaråº“å·²åŠ è½½
                });

                // åˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
                moduleManager.initAllModules().then(() => {
                    // è·å–æ¨¡å—å®ä¾‹
                    timeDisplayModule = moduleManager.getInstance('timeDisplay');
                    lunarCalendarModule = moduleManager.getInstance('lunarCalendar');

                    console.log('âœ… æ‰€æœ‰æ¨¡å—é€šè¿‡ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ');
                }).catch(error => {
                    console.error('âŒ æ¨¡å—ç®¡ç†å™¨åˆå§‹åŒ–å¤±è´¥:', error);
                });

            } catch (error) {
                console.error('âŒ æ¨¡å—ç®¡ç†å™¨é…ç½®å¤±è´¥:', error);
            }
        }

        // ğŸš€ é¢„åŠ è½½è„šæœ¬ï¼šç«‹å³éšè—é¡µé¢é˜²æ­¢é—ªçƒ
        (function() {
            document.documentElement.style.visibility = 'hidden';
            document.documentElement.style.opacity = '0';

            // ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶ï¼š3ç§’åå¼ºåˆ¶æ˜¾ç¤ºé¡µé¢ï¼ˆé˜²æ­¢JSå¤±è´¥ï¼‰
            setTimeout(function() {
                if (!document.documentElement.classList.contains('loaded')) {
                    console.warn('âš ï¸ é¡µé¢åˆå§‹åŒ–è¶…æ—¶ï¼Œå¼ºåˆ¶æ˜¾ç¤ºé¡µé¢');
                    document.documentElement.classList.add('force-show');
                }
            }, 3000);
        })();

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“‹ æƒ…ç¼˜å¿—é¡µé¢DOMåŠ è½½å®Œæˆ');

            // æ£€æŸ¥å¿…è¦çš„ä¾èµ–
            if (typeof TimeDisplayModule === 'undefined') {
                console.error('âŒ TimeDisplayModuleæœªå®šä¹‰');
            }
            if (typeof LunarCalendarModule === 'undefined') {
                console.error('âŒ LunarCalendarModuleæœªå®šä¹‰');
            }
            if (typeof moduleManager === 'undefined') {
                console.error('âŒ moduleManageræœªå®šä¹‰ï¼Œè¯·æ£€æŸ¥module-manager.jsæ˜¯å¦æ­£ç¡®åŠ è½½');
            }

            // ä½¿ç”¨å…¬å…±åˆå§‹åŒ–æ¨¡å—
            if (typeof initPageCommon === 'function') {
                initPageCommon('æƒ…ç¼˜å¿—é¡µé¢');
            } else {
                console.error('âŒ initPageCommonå‡½æ•°æœªæ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥common-init.jsæ˜¯å¦æ­£ç¡®åŠ è½½');
            }

            // ç›´æ¥æ‰§è¡Œåˆå§‹åŒ–ï¼ˆä¸ä¾èµ–å›è°ƒï¼‰
            setTimeout(() => {
                updateDayCounter();
                loadStories();

                // æ£€æŸ¥æ¨¡å—ç®¡ç†å™¨æ˜¯å¦å¯ç”¨
                if (typeof moduleManager !== 'undefined') {
                    // ä½¿ç”¨æ¨¡å—ç®¡ç†å™¨åˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
                    initModuleManager();
                } else {
                    // é™çº§æ–¹æ¡ˆï¼šç›´æ¥åˆå§‹åŒ–æ¨¡å—
                    console.warn('âš ï¸ æ¨¡å—ç®¡ç†å™¨ä¸å¯ç”¨ï¼Œä½¿ç”¨é™çº§æ–¹æ¡ˆ');
                    if (typeof TimeDisplayModule !== 'undefined') {
                        try {
                            timeDisplayModule = new TimeDisplayModule();
                            timeDisplayModule.init();
                            console.log('âœ… æ—¶é—´æ¨¡å—é™çº§åˆå§‹åŒ–æˆåŠŸ');
                        } catch (error) {
                            console.error('âŒ æ—¶é—´æ¨¡å—é™çº§åˆå§‹åŒ–å¤±è´¥:', error);
                        }
                    }

                    if (typeof LunarCalendarModule !== 'undefined') {
                        try {
                            lunarCalendarModule = new LunarCalendarModule();
                            lunarCalendarModule.init();
                            console.log('âœ… å†œå†æ¨¡å—é™çº§åˆå§‹åŒ–æˆåŠŸ');
                        } catch (error) {
                            console.error('âŒ å†œå†æ¨¡å—é™çº§åˆå§‹åŒ–å¤±è´¥:', error);
                        }
                    }
                }

                // æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¡æ•°å™¨ï¼ˆç¡®ä¿è·¨æ—¥æœŸæ—¶åŠæ—¶æ›´æ–°ï¼‰
                setInterval(updateDayCounter, 3600000); // 1å°æ—¶ = 3600000æ¯«ç§’

                // ç›‘å¬é…ç½®æ›´æ–°äº‹ä»¶ï¼Œé‡æ–°åˆå§‹åŒ–æ¨¡å—
                window.addEventListener('userConfigUpdated', function(event) {
                    console.log('ğŸ”„ æ£€æµ‹åˆ°é…ç½®æ›´æ–°ï¼Œé‡æ–°åˆå§‹åŒ–æ¨¡å—');

                    if (typeof moduleManager !== 'undefined') {
                        // é”€æ¯æ‰€æœ‰æ¨¡å—
                        moduleManager.destroyAllModules().then(() => {
                            // é‡æ–°åˆå§‹åŒ–æ¨¡å—ç®¡ç†å™¨
                            setTimeout(() => {
                                initModuleManager();
                            }, 100);
                        }).catch(error => {
                            console.error('âŒ æ¨¡å—é‡æ–°åˆå§‹åŒ–å¤±è´¥:', error);
                        });
                    }
                });
            }, 200); // å¢åŠ å»¶è¿Ÿç¡®ä¿æ‰€æœ‰è„šæœ¬åŠ è½½å®Œæˆ

            // æ·»åŠ é¡µé¢ç‰¹å®šçš„åˆå§‹åŒ–é€»è¾‘
            if (typeof addPageInitCallback === 'function') {
                addPageInitCallback(() => {
                    // å¯ä»¥æ·»åŠ å…¶ä»–åˆå§‹åŒ–é€»è¾‘
                }, 'æƒ…ç¼˜å¿—ç‰¹æœ‰åŠŸèƒ½åˆå§‹åŒ–');
            }

            console.log('âœ… æƒ…ç¼˜å¿—é¡µé¢åˆå§‹åŒ–å®Œæˆï¼');

            // ğŸ¨ é¡µé¢åˆå§‹åŒ–å®Œæˆï¼Œæ˜¾ç¤ºé¡µé¢ï¼ˆé˜²æ­¢é—ªçƒï¼‰
            setTimeout(() => {
                document.documentElement.classList.add('loaded');
                document.documentElement.style.visibility = 'visible';
                document.documentElement.style.opacity = '1';
                console.log('ğŸ¨ é¡µé¢æ¸²æŸ“å®Œæˆï¼Œé˜²é—ªçƒå¤„ç†ç»“æŸ');
            }, 100); // çŸ­æš‚å»¶è¿Ÿç¡®ä¿æ‰€æœ‰å†…å®¹éƒ½å·²æ›´æ–°
        });

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šä¾›ç”¨æˆ·æµ‹è¯•æ•´ç‚¹ç‰¹æ•ˆ
        window.testHourlyEffect = function() {
            if (timeDisplayModule) {
                timeDisplayModule.testHourlyEffect();
            } else {
                console.warn('âš ï¸ æ—¶é—´æ˜¾ç¤ºæ¨¡å—æœªåˆå§‹åŒ–');
            }
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šè·å–æ—¶é—´æ¨¡å—ä¿¡æ¯
        window.getTimeModuleInfo = function() {
            const timeModule = moduleManager.getInstance('timeDisplay');
            if (timeModule) {
                return timeModule.getCurrentTimeInfo();
            } else {
                console.warn('âš ï¸ æ—¶é—´æ˜¾ç¤ºæ¨¡å—æœªåˆå§‹åŒ–');
                return null;
            }
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šè·å–å†œå†ä¿¡æ¯
        window.getLunarInfo = function() {
            const lunarModule = moduleManager.getInstance('lunarCalendar');
            if (lunarModule) {
                return lunarModule.getCurrentLunarInfo();
            } else {
                console.warn('âš ï¸ å†œå†æ˜¾ç¤ºæ¨¡å—æœªåˆå§‹åŒ–');
                return null;
            }
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šè·å–æ¨¡å—ç®¡ç†å™¨çŠ¶æ€
        window.getModuleManagerStatus = function() {
            return {
                isInitialized: moduleManager.isInitialized,
                moduleStates: moduleManager.getAllModuleStates(),
                initOrder: moduleManager.initOrder
            };
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šæ‰‹åŠ¨åˆå§‹åŒ–æ¨¡å—
        window.initModule = function(moduleName, config = {}) {
            return moduleManager.initModule(moduleName, config);
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šæ‰‹åŠ¨é”€æ¯æ¨¡å—
        window.destroyModule = function(moduleName) {
            return moduleManager.destroyModule(moduleName);
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šæ³¨å†Œæ–°æ¨¡å—ï¼ˆä¾›äºŒæ¬¡å¼€å‘ä½¿ç”¨ï¼‰
        window.registerModule = function(name, moduleClass, options = {}) {
            return moduleManager.register(name, moduleClass, options);
        };

        // ğŸ”§ å…¨å±€å‡½æ•°ï¼šè·å–æ¨¡å—å®ä¾‹ï¼ˆä¾›äºŒæ¬¡å¼€å‘ä½¿ç”¨ï¼‰
        window.getModuleInstance = function(moduleName) {
            return moduleManager.getInstance(moduleName);
        };
    </script>
</body>
</html>