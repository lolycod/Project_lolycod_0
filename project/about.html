<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ÑπÔ∏è ÊÉÖÁºòÂøó - Ê±üÊπñÊÉÖÁºò ‚öîÔ∏è</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* üöÄ Èò≤Ê≠¢È°µÈù¢Èó™ÁÉÅÁöÑÈ¢ÑÂä†ËΩΩÊ†∑Âºè */
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.loaded {
            visibility: visible;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }

        /* üõ°Ô∏è ÂÆâÂÖ®Êú∫Âà∂Ôºö3ÁßíÂêéÂº∫Âà∂ÊòæÁ§∫È°µÈù¢ÔºàÈò≤Ê≠¢JSÂ§±Ë¥•ÂØºËá¥È°µÈù¢Ê∞∏Ëøú‰∏çÊòæÁ§∫Ôºâ */
        html.force-show {
            visibility: visible !important;
            opacity: 1 !important;
        }

        /* Ê≠¶‰æ†È£éÊ†ºÂü∫Á°ÄÊ†∑Âºè */
        body {
            background: url('1/brk/ÂæÆ‰ø°ÂõæÁâá_20250713234756.jpg') center center / cover no-repeat fixed,
                        linear-gradient(135deg, #8B0000 0%, #DAA520 50%, #2F4F2F 100%) !important;
            min-height: 100vh;
            font-family: 'KaiTi', 'Ê•∑‰Ωì', serif;
            color: #F5DEB3;
            overflow-x: hidden;
        }
        
        /* ÂØºËà™Ê†èÈÄèÊòé */
        .navbar {
            background: transparent !important;
            backdrop-filter: none !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        .navbar-brand {
            color: #FFD700 !important;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
        
        .nav-link {
            color: #F5DEB3 !important;
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.8) 0%,
                rgba(160, 82, 45, 0.7) 30%,
                rgba(210, 180, 140, 0.6) 70%,
                rgba(139, 69, 19, 0.8) 100%
            );
            border: 2px solid #DAA520;
            border-radius: 25px;
            padding: 10px 20px !important;
            margin: 0 5px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #FFD700 !important;
            background: linear-gradient(145deg, 
                rgba(218, 165, 32, 0.9) 0%,
                rgba(255, 215, 0, 0.8) 30%,
                rgba(255, 255, 224, 0.7) 50%,
                rgba(255, 215, 0, 0.8) 70%,
                rgba(218, 165, 32, 0.9) 100%
            );
            transform: translateY(-3px) scale(1.05);
        }
        
        /* ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü */
        .main-content {
            padding: 120px 0;
            min-height: 100vh;
        }
        
        .page-title {
            color: #FFD700;
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .story-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .story-section {
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.15) 0%,
                rgba(160, 82, 45, 0.12) 30%,
                rgba(210, 180, 140, 0.08) 50%,
                rgba(160, 82, 45, 0.12) 70%,
                rgba(139, 69, 19, 0.15) 100%
            );
            border: 3px solid rgba(218, 165, 32, 0.4);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 
                0 12px 30px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                inset 0 -2px 0 rgba(0, 0, 0, 0.15);
        }
        
        .story-title {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .story-content {
            color: #F5DEB3;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            line-height: 1.8;
            text-align: justify;
        }
        
        .story-poem {
            color: #DAA520;
            font-style: italic;
            font-size: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            text-align: center;
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border-left: 4px solid #DAA520;
        }
        
        .counter-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .counter-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .counter-display {
            background: linear-gradient(145deg, 
                rgba(139, 0, 0, 0.9) 0%,
                rgba(178, 34, 34, 0.8) 50%,
                rgba(139, 0, 0, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 20px;
            padding: 2rem;
            display: inline-block;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .counter-number {
            color: #FFD700;
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
        }
        
        .counter-text {
            color: #F5DEB3;
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            margin-top: 0.5rem;
        }
        
        /* Êó∂Èó¥ÊòæÁ§∫Ê†∑Âºè */
        .time-display-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .time-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .time-display-container {
            position: relative;
            display: inline-block;
        }
        
        .current-time {
            background: linear-gradient(145deg, 
                rgba(47, 79, 79, 0.9) 0%,
                rgba(70, 130, 180, 0.8) 50%,
                rgba(47, 79, 79, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-width: 300px;
        }
        
        .time-text {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 0.5rem;
        }
        
        .time-subtitle {
            color: #F5DEB3;
            font-size: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }
        
        /* Êï¥ÁÇπÁâπÊïàÊ†∑Âºè */
        .hourly-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
            border-radius: 20px;
        }
        
        /* ÂâëÂΩ±Êâ´ÂÖâÁâπÊïà */
        .sword-sweep-effect {
            position: absolute;
            top: -10px;
            left: -100%;
            width: 100%;
            height: calc(100% + 20px);
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 215, 0, 0.1) 20%,
                rgba(255, 215, 0, 0.6) 50%,
                rgba(255, 215, 0, 0.1) 80%,
                transparent 100%
            );
            transform: skewX(-20deg);
            animation: swordSweep 2s ease-out;
        }
        
        @keyframes swordSweep {
            0% {
                left: -100%;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }
        
        /* clip-pathÊâ´ÂÖâÁâπÊïà */
        .clip-path-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                rgba(255, 215, 0, 0.3) 0%,
                rgba(255, 215, 0, 0.6) 50%,
                rgba(255, 215, 0, 0.3) 100%
            );
            clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            animation: clipPathSweep 2s ease-out;
        }
        
        @keyframes clipPathSweep {
            0% {
                clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            }
            50% {
                clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
            }
            100% {
                clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
            }
        }
        
        /* SVGË∑ØÂæÑÁâπÊïà */
        .svg-path-effect {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            animation: svgPathFade 2s ease-out;
        }
        
        .svg-path-effect svg {
            width: 100%;
            height: 100%;
        }
        
        .svg-path-effect path {
            stroke: #FFD700;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: svgPathDraw 2s ease-out;
        }
        
        @keyframes svgPathFade {
            0%, 10% { opacity: 0; }
            20%, 80% { opacity: 1; }
            90%, 100% { opacity: 0; }
        }
        
        @keyframes svgPathDraw {
            0% { stroke-dashoffset: 1000; }
            100% { stroke-dashoffset: 0; }
        }
        
        /* ÂÜúÂéÜÊòæÁ§∫Ê†∑Âºè */
        .lunar-display-section {
            text-align: center;
            margin: 3rem 0;
        }
        
        .lunar-title {
            color: #FFD700;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 1rem;
        }
        
        .lunar-scroll-container {
            display: inline-block;
            position: relative;
        }
        
        .lunar-scroll {
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.9) 0%,
                rgba(160, 82, 45, 0.8) 30%,
                rgba(210, 180, 140, 0.6) 50%,
                rgba(160, 82, 45, 0.8) 70%,
                rgba(139, 69, 19, 0.9) 100%
            );
            border: 3px solid #DAA520;
            border-radius: 15px;
            padding: 2rem 1.5rem;
            min-width: 280px;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                inset 0 -2px 0 rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .lunar-scroll::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="scroll-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="%23DAA520" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23scroll-pattern)"/></svg>');
            opacity: 0.3;
            pointer-events: none;
        }
        
        .scroll-header, .scroll-footer {
            color: #DAA520;
            font-size: 0.9rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }
        
        .lunar-content {
            position: relative;
            z-index: 1;
            margin: 1.5rem 0;
        }
        
        .ganZhi-text {
            color: #FFD700;
            font-size: 1.4rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 0.8rem;
        }
        
        .lunar-date {
            color: #F5DEB3;
            font-size: 1.6rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            margin-bottom: 0.8rem;
        }
        
        .solar-term {
            color: #98FB98;
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(152, 251, 152, 0.3);
        }
        
        /* Âç∑ËΩ¥Â±ïÂºÄÂä®Áîª */
        .lunar-scroll.unfold {
            animation: scrollUnfold 1s ease-out;
        }
        
        @keyframes scrollUnfold {
            0% {
                transform: scaleY(0.1) rotateX(90deg);
                opacity: 0;
            }
            50% {
                transform: scaleY(0.5) rotateX(45deg);
                opacity: 0.5;
            }
            100% {
                transform: scaleY(1) rotateX(0deg);
                opacity: 1;
            }
        }
        
        /* È°µËÑö */
        .wuxia-footer {
            background: linear-gradient(145deg, 
                rgba(0, 0, 0, 0.8) 0%,
                rgba(32, 32, 32, 0.7) 50%,
                rgba(0, 0, 0, 0.8) 100%
            );
            backdrop-filter: blur(5px);
            border-top: 3px solid #DAA520;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
            padding: 2rem 0;
            text-align: center;
            color: #F5DEB3;
        }
        
        .footer-seal {
            background: linear-gradient(145deg, 
                rgba(218, 165, 32, 0.9) 0%,
                rgba(255, 215, 0, 0.8) 50%,
                rgba(218, 165, 32, 0.9) 100%
            );
            color: #000000;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
            border: 3px solid #000000;
            border-radius: 50%;
            padding: 8px 15px;
            font-weight: 900;
            display: inline-block;
            margin-bottom: 0.5rem;
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .footer-seal:hover {
            transform: scale(1.05) rotate(5deg);
        }
        
        /* ÂìçÂ∫îÂºè */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2rem;
            }
            
            .story-container {
                padding: 1rem;
            }
            
            .counter-number {
                font-size: 3rem;
            }
            
            .nav-link {
                margin: 2px;
                padding: 8px 16px !important;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- ÂØºËà™Ê†è -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-sword me-2"></i>Ê±üÊπñÊÉÖÁºò
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>Ê±üÊπñ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="memories.html">
                            <i class="fas fa-images me-1"></i>ÂõûÂøÜÂΩï
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="about.html">
                            <i class="fas fa-info-circle me-1"></i>ÊÉÖÁºòÂøó
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">‚ÑπÔ∏è Ê±üÊπñÊÉÖÁºòÂøó ‚ÑπÔ∏è</h1>
            
            <div class="story-container">
                <!-- Èô™‰º¥ËÆ°Êï∞Âô® -->
                <div class="counter-section">
                    <h2 class="counter-title">üèÆ Èô™‰º¥Êó∂ÂÖâ üèÆ</h2>
                    <div class="counter-display">
                        <div class="counter-number" id="dayCounter">32</div>
                        <div class="counter-text" id="counterText">Â§©ÁöÑÊ±üÊπñÊÉÖÁºò</div>
                    </div>
                </div>

                <!-- ÂÆûÊó∂Êó∂Èó¥ÊòæÁ§∫ -->
                <div class="time-display-section">
                    <h2 class="time-title">‚è∞ Ê±üÊπñÊó∂Ëæ∞ ‚è∞</h2>
                    <div class="time-display-container">
                        <div class="current-time" id="currentTimeDisplay">
                            <div class="time-text" id="timeText">2025Âπ¥07Êúà17Êó• 12:00:00</div>
                            <div class="time-subtitle">ÂΩìÂâçÊó∂Ëæ∞</div>
                        </div>
                        <!-- Êï¥ÁÇπÁâπÊïàÂÆπÂô® -->
                        <div class="hourly-effect" id="hourlyEffect"></div>
                    </div>
                </div>

                <!-- ÂÜúÂéÜÊó•ÊúüÊòæÁ§∫ -->
                <div class="lunar-display-section">
                    <h2 class="lunar-title">üåô ÂÜúÂéÜÊó∂ÂÖâ üåô</h2>
                    <div class="lunar-scroll-container">
                        <div class="lunar-scroll" id="lunarScrollDisplay">
                            <div class="scroll-header">Ê±üÊπñÂéÜÊ≥ï</div>
                            <div class="lunar-content" id="lunarContent">
                                <div class="ganZhi-text" id="ganZhiText">Áî≤Ëæ∞Âπ¥</div>
                                <div class="lunar-date" id="lunarDate">‰∏ÉÊúàÂàù‰∫å</div>
                                <div class="solar-term" id="solarTerm">Â§ÑÊöë</div>
                            </div>
                            <div class="scroll-footer">Â§©ÈÅìËΩÆÂõû</div>
                        </div>
                    </div>
                </div>
                
                <!-- ÊÉÖÁºòÊïÖ‰∫ã -->
                <div class="story-section">
                    <h3 class="story-title">‚öîÔ∏è Ê±üÊπñÂàùÈÅá ‚öîÔ∏è</h3>
                    <div class="story-content">
                        Âú®Ëøô‰∏™ÂÖÖÊª°‰º†Â•áÁöÑÊ±üÊπñ‰∏ñÁïåÈáåÔºåÊàëÈÅáËßÅ‰∫ÜÊüíÊüí„ÄÇÈÇ£‰∏ÄÂàªÔºå‰ªø‰ΩõÊï¥‰∏™Ê±üÊπñÈÉΩ‰∏∫‰πãÈùôÊ≠¢ÔºåÂè™ÊúâÂ•πÁöÑÁ¨ëÂÆπÂ¶ÇÊò•È£éËà¨Ê∏©Êöñ„ÄÇ‰ªéÈÇ£Êó∂Ëµ∑ÔºåÊàë‰æøÁü•ÈÅìÔºåËøô‰∏ÄÁîüÁöÑÊ±üÊπñË∑ØÔºåÊàëÊÑø‰∏éÂ•πÊê∫ÊâãÂêåË°å„ÄÇ
                    </div>
                    <div class="story-poem">"ÂàùËßÅÂÄæÂüéËâ≤ÔºåÂÜçËßÅÂÄæÂüéÂøÉ"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">üåô ÊÉÖÊ∑±Â¶ÇÊµ∑ üåô</h3>
                    <div class="story-content">
                        Ê±üÊπñË∑ØÊº´Êº´ÔºåÈ£éÈõ®ÂÖºÁ®ã„ÄÇ‰ΩÜÊúâ‰∫ÜÊüíÊüíÁöÑÈô™‰º¥ÔºåÂÜçËâ∞ÈöæÁöÑË∑Ø‰πüÂèòÂæóÊ∏©ÊöñÂ¶ÇÊò•„ÄÇÊàë‰ª¨‰∏ÄËµ∑ÁúãËøáÊ±üÊπñÁöÑÊó•Âá∫Êó•ËêΩÔºåËµ∞ËøáÂ±±Â∑ùÊ≤≥ÊµÅÔºåÊØè‰∏Ä‰∏™Áû¨Èó¥ÈÉΩÊàê‰∏∫‰∫ÜÊúÄÁèçË¥µÁöÑÂõûÂøÜ„ÄÇ
                    </div>
                    <div class="story-poem">"ÊÉÖÊ∑±‰∏çË¥üÁõ∏ÊÄùÊÑèÔºåÊ≠§ÂøÉÂè™‰∏∫‰ºä‰∫∫Áó¥"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">üéµ Áê¥ÁëüÂíåÈ∏£ üéµ</h3>
                    <div class="story-content">
                        Âú®Ëøô‰∏™Ê≠¶‰æ†È£éÊ†ºÁöÑÂõûÂøÜÂΩï‰∏≠ÔºåËÆ∞ÂΩïÁùÄÊàë‰ª¨ÁöÑÁÇπÁÇπÊª¥Êª¥„ÄÇÊØè‰∏ÄÂº†ÁÖßÁâáÈÉΩÊòØ‰∏Ä‰∏™ÊïÖ‰∫ãÔºåÊØè‰∏Ä‰∏™ÊïÖ‰∫ãÈÉΩÊâøËΩΩÁùÄÊàë‰ª¨ÁöÑÊÉÖÊÑü„ÄÇÊÑøËøô‰ªΩÊÉÖÁºòËÉΩÂ§ü‰º†Êâø‰∏ãÂéªÔºåÊàê‰∏∫Ê±üÊπñ‰∏≠ÊúÄÁæéÁöÑ‰º†ËØ¥„ÄÇ
                    </div>
                    <div class="story-poem">"Áê¥ÁëüÂíåÈ∏£Â•èÂçéÁ´†ÔºåÊ≠§Áîü‰∏éÂêõÂÖ±ÂæúÂæâ"</div>
                </div>
                
                <div class="story-section">
                    <h3 class="story-title">üèÆ Ê∞∏ÊÅíË™ìË®Ä üèÆ</h3>
                    <div class="story-content">
                        Á∫µÁÑ∂Ê±üÊπñÈô©ÊÅ∂Ôºå‰∏ñ‰∫ãÊó†Â∏∏Ôºå‰ΩÜÊàëÂØπÊüíÊüíÁöÑÊÉÖÊÑèÊ∞∏‰∏çÊîπÂèò„ÄÇÊÑøÊàë‰ª¨ÁöÑÁà±ÊÉÖÂ¶ÇËøôÊ≠¶‰æ†‰º†ËØ¥Ëà¨ÔºåÊµÅ‰º†ÂçÉÂè§ÔºåÊàê‰∏∫Âêé‰∫∫‰º†È¢ÇÁöÑ‰Ω≥ËØù„ÄÇÊ≠§ÁîüÊ≠§‰∏ñÔºåÂîØÊÑø‰∏éÂêõ‰∏çÁ¶ª‰∏çÂºÉÔºåÂÖ±Â∫¶Ê±üÊπñÂ≤ÅÊúà„ÄÇ
                    </div>
                    <div class="story-poem">"Â±±Êó†ÈôµÔºåÊ±üÊ∞¥‰∏∫Á´≠ÔºåÊ≠§ÊÉÖ‰∏çÁªù"</div>
                </div>
            </div>
        </div>
    </main>

    <!-- È°µËÑö -->
    <footer class="wuxia-footer">
        <div class="container">
            <div class="footer-seal">Ê±üÊπñÊÉÖÁºò</div>
            <p style="margin: 0; font-size: 0.9rem;">‚öîÔ∏è &copy; 2025 Ê±üÊπñÊÉÖÁºò - Ê≠¶‰æ†È£éÊ†ºÂõûÂøÜÂΩï ‚öîÔ∏è</p>
            <p style="margin: 0; font-size: 0.8rem;">üèÆ ‰ª•Ê≠¶‰æ†È£éÊ†ºËÆ∞ÂΩïÔºå‰º†ÊâøÊ±üÊπñÊÉÖÁºò üèÆ</p>
            <p style="margin: 0; font-size: 0.7rem; color: #DAA520; opacity: 0.8;">‰ΩúËÄÖÔºölolycod</p>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Lunar JavaScript Â∫ì -->
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/dist/lunar.min.js"></script>

    <!-- ÈÖçÁΩÆÊñá‰ª∂ -->
    <script src="config.js"></script>

    <!-- ÂÖ¨ÂÖ±ÂàùÂßãÂåñÊ®°Âùó -->
    <script src="common-init.js"></script>

    <!-- Ê®°ÂùóÁÆ°ÁêÜÂô® -->
    <script src="module-manager.js"></script>

    <!-- Âø´ÈÄü‰øÆÂ§çËÑöÊú¨ -->
    <script src="quick-fix.js"></script>

    <!-- ÁßªÂä®Á´ØÊÄßËÉΩ‰ºòÂåñËÑöÊú¨ -->
    <script async src="mobile-optimization.js"></script>

    <!-- Á≤æÁ°ÆËÆæÂ§áÊ£ÄÊµãÂô® -->
    <script src="device-detector.js"></script>

    <!-- ÁßªÂä®Á´ØÊô∫ËÉΩÈáçÂÆöÂêëËÑöÊú¨ -->
    <script async src="mobile-redirect.js"></script>

    <script>
        console.log('‚ÑπÔ∏è ÊÉÖÁºòÂøóÈ°µÈù¢ÂêØÂä®...');
        
        // üïê TimeDisplayModule - Êó∂Èó¥ÊòæÁ§∫Ê®°Âùó
        class TimeDisplayModule {
            constructor(config = {}) {
                this.config = {
                    enabled: true,
                    showSeconds: true,
                    format: 'YYYYÂπ¥MMÊúàDDÊó• HH:mm:ss',
                    enableHourlyEffect: true,
                    effectType: 'sword-sweep',
                    effectDuration: 2000,
                    ...config
                };
                
                this.timeElement = null;
                this.effectElement = null;
                this.updateInterval = null;
                this.lastHour = -1;
                
                console.log('üïê TimeDisplayModule ÂàùÂßãÂåñÂÆåÊàê', this.config);
            }
            
            // ÂàùÂßãÂåñÊó∂Èó¥ÊòæÁ§∫Ê®°Âùó
            init() {
                try {
                    if (!this.config.enabled) {
                        console.log('‚è∏Ô∏è Êó∂Èó¥ÊòæÁ§∫Ê®°ÂùóÂ∑≤Á¶ÅÁî®');
                        return { success: false, message: 'Ê®°ÂùóÂ∑≤Á¶ÅÁî®' };
                    }
                    
                    // Ëé∑ÂèñDOMÂÖÉÁ¥†
                    this.timeElement = document.getElementById('timeText');
                    this.effectElement = document.getElementById('hourlyEffect');
                    
                    if (!this.timeElement) {
                        throw new Error('Êâæ‰∏çÂà∞Êó∂Èó¥ÊòæÁ§∫ÂÖÉÁ¥† #timeText');
                    }
                    
                    // Á´ãÂç≥Êõ¥Êñ∞‰∏ÄÊ¨°Êó∂Èó¥
                    this.updateTime();
                    
                    // ÂêØÂä®ÂÆöÊó∂Êõ¥Êñ∞
                    this.startTimeUpdate();
                    
                    console.log('‚úÖ TimeDisplayModule ÂàùÂßãÂåñÊàêÂäü');
                    return { success: true, message: 'Êó∂Èó¥ÊòæÁ§∫Ê®°ÂùóÂàùÂßãÂåñÊàêÂäü' };
                    
                } catch (error) {
                    console.error('‚ùå TimeDisplayModule ÂàùÂßãÂåñÂ§±Ë¥•:', error);
                    return { success: false, error: error.message };
                }
            }
            
            // ÂêØÂä®Êó∂Èó¥Êõ¥Êñ∞
            startTimeUpdate() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                }
                
                this.updateInterval = setInterval(() => {
                    this.updateTime();
                }, 1000);
                
                console.log('‚è∞ Êó∂Èó¥Êõ¥Êñ∞ÂÆöÊó∂Âô®Â∑≤ÂêØÂä®');
            }
            
            // ÂÅúÊ≠¢Êó∂Èó¥Êõ¥Êñ∞
            stopTimeUpdate() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                    this.updateInterval = null;
                    console.log('‚èπÔ∏è Êó∂Èó¥Êõ¥Êñ∞ÂÆöÊó∂Âô®Â∑≤ÂÅúÊ≠¢');
                }
            }
            
            // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
            updateTime() {
                try {
                    const now = new Date();
                    const formattedTime = this.formatTime(now);
                    
                    if (this.timeElement) {
                        this.timeElement.textContent = formattedTime;
                    }
                    
                    // Ê£ÄÊü•ÊòØÂê¶Êï¥ÁÇπ
                    if (this.config.enableHourlyEffect && this.isHourlyMoment(now)) {
                        this.triggerHourlyEffect();
                    }
                    
                } catch (error) {
                    console.error('‚ùå Êó∂Èó¥Êõ¥Êñ∞Â§±Ë¥•:', error);
                }
            }
            
            // Ê†ºÂºèÂåñÊó∂Èó¥
            formatTime(date) {
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const hour = String(date.getHours()).padStart(2, '0');
                const minute = String(date.getMinutes()).padStart(2, '0');
                const second = String(date.getSeconds()).padStart(2, '0');
                
                let formatted = this.config.format;
                formatted = formatted.replace('YYYY', year);
                formatted = formatted.replace('MM', month);
                formatted = formatted.replace('DD', day);
                formatted = formatted.replace('HH', hour);
                formatted = formatted.replace('mm', minute);
                
                if (this.config.showSeconds) {
                    formatted = formatted.replace('ss', second);
                } else {
                    formatted = formatted.replace(':ss', '').replace(' ss', '');
                }
                
                return formatted;
            }
            
            // Ê£ÄÊü•ÊòØÂê¶Êï¥ÁÇπÊó∂Âàª
            isHourlyMoment(date) {
                const currentHour = date.getHours();
                const currentMinute = date.getMinutes();
                const currentSecond = date.getSeconds();
                
                // Êï¥ÁÇπÁöÑÂâç3ÁßíÂÜÖËß¶ÂèëÁâπÊïàÔºàÈÅøÂÖçÈáçÂ§çËß¶ÂèëÔºâ
                if (currentMinute === 0 && currentSecond <= 3 && this.lastHour !== currentHour) {
                    this.lastHour = currentHour;
                    return true;
                }
                
                return false;
            }
            
            // Ëß¶ÂèëÊï¥ÁÇπÁâπÊïà
            triggerHourlyEffect() {
                if (!this.effectElement) {
                    console.warn('‚ö†Ô∏è Êâæ‰∏çÂà∞ÁâπÊïàÂÆπÂô®ÂÖÉÁ¥†');
                    return;
                }
                
                try {
                    // Ê∏ÖÈô§‰πãÂâçÁöÑÁâπÊïà
                    this.effectElement.innerHTML = '';
                    
                    // ÂàõÂª∫ÁâπÊïàÂÖÉÁ¥†
                    const effectDiv = document.createElement('div');
                    
                    switch (this.config.effectType) {
                        case 'sword-sweep':
                            effectDiv.className = 'sword-sweep-effect';
                            break;
                        case 'clip-path':
                            effectDiv.className = 'clip-path-effect';
                            break;
                        case 'svg-path':
                            effectDiv.className = 'svg-path-effect';
                            effectDiv.innerHTML = `
                                <svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0,50 Q75,10 150,50 T300,50" stroke="#FFD700" stroke-width="2" fill="none"/>
                                    <path d="M0,30 Q75,70 150,30 T300,30" stroke="#FFD700" stroke-width="1" fill="none"/>
                                    <path d="M0,70 Q75,30 150,70 T300,70" stroke="#FFD700" stroke-width="1" fill="none"/>
                                </svg>
                            `;
                            break;
                        default:
                            effectDiv.className = 'sword-sweep-effect';
                    }
                    
                    this.effectElement.appendChild(effectDiv);
                    
                    // ÁâπÊïàÁªìÊùüÂêéÊ∏ÖÁêÜ
                    setTimeout(() => {
                        if (this.effectElement && effectDiv.parentNode) {
                            this.effectElement.removeChild(effectDiv);
                        }
                    }, this.config.effectDuration);
                    
                    console.log('‚öîÔ∏è Êï¥ÁÇπÁâπÊïàÂ∑≤Ëß¶Âèë:', this.config.effectType);
                    
                } catch (error) {
                    console.error('‚ùå ÁâπÊïàËß¶ÂèëÂ§±Ë¥•:', error);
                }
            }
            
            // Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥‰ø°ÊÅØ
            getCurrentTimeInfo() {
                const now = new Date();
                return {
                    timestamp: now.getTime(),
                    formatted: this.formatTime(now),
                    year: now.getFullYear(),
                    month: now.getMonth() + 1,
                    day: now.getDate(),
                    hour: now.getHours(),
                    minute: now.getMinutes(),
                    second: now.getSeconds(),
                    isHourly: this.isHourlyMoment(now)
                };
            }
            
            // Êõ¥Êñ∞ÈÖçÁΩÆ
            updateConfig(newConfig) {
                this.config = { ...this.config, ...newConfig };
                console.log('üîÑ TimeDisplayModule ÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞', this.config);
                
                // Â¶ÇÊûúÊ®°ÂùóË¢´Á¶ÅÁî®ÔºåÂÅúÊ≠¢Êõ¥Êñ∞
                if (!this.config.enabled) {
                    this.stopTimeUpdate();
                } else if (!this.updateInterval) {
                    this.startTimeUpdate();
                }
            }
            
            // ÊâãÂä®Ëß¶ÂèëÁâπÊïàÔºàÁî®‰∫éÊµãËØïÔºâ
            testHourlyEffect() {
                console.log('üß™ ÊâãÂä®Ëß¶ÂèëÊï¥ÁÇπÁâπÊïàÊµãËØï');
                this.triggerHourlyEffect();
            }
            
            // ÈîÄÊØÅÊ®°Âùó
            destroy() {
                this.stopTimeUpdate();
                this.timeElement = null;
                this.effectElement = null;
                console.log('üóëÔ∏è TimeDisplayModule Â∑≤ÈîÄÊØÅ');
            }
        }
        
        // ÂÖ®Â±ÄÊó∂Èó¥ÊòæÁ§∫Ê®°ÂùóÂÆû‰æã
        let timeDisplayModule = null;
        
        // üåô LunarCalendarModule - ÂÜúÂéÜËÆ°ÁÆóÊ®°Âùó
        class LunarCalendarModule {
            constructor(config = {}) {
                this.config = {
                    enabled: true,
                    showGanZhi: true,
                    showSolarTerm: true,
                    displayFormat: '{ganZhi} {lunar} {solarTerm}',
                    scrollStyle: 'traditional',
                    scrollAnimation: true,
                    ...config
                };
                
                this.lunarLib = null;
                this.ganZhiElement = null;
                this.lunarDateElement = null;
                this.solarTermElement = null;
                this.scrollElement = null;
                
                console.log('üåô LunarCalendarModule ÂàùÂßãÂåñÂÆåÊàê', this.config);
            }
            
            // ÂàùÂßãÂåñÂÜúÂéÜÊ®°Âùó
            init() {
                try {
                    if (!this.config.enabled) {
                        console.log('‚è∏Ô∏è ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂ∑≤Á¶ÅÁî®');
                        return { success: false, message: 'Ê®°ÂùóÂ∑≤Á¶ÅÁî®' };
                    }
                    
                    // Ê£ÄÊü•lunar-javascriptÂ∫ìÊòØÂê¶Âä†ËΩΩ
                    if (typeof Lunar === 'undefined') {
                        console.warn('‚ö†Ô∏è lunar-javascriptÂ∫ìÊú™Âä†ËΩΩÔºå‰ΩøÁî®ÈôçÁ∫ßÊñπÊ°à');
                        this.showFallbackDisplay();
                        return { success: true, message: '‰ΩøÁî®ÈôçÁ∫ßÊñπÊ°àÊòæÁ§∫ÂÜúÂéÜ‰ø°ÊÅØ' };
                    }
                    
                    this.lunarLib = Lunar;
                    
                    // Ëé∑ÂèñDOMÂÖÉÁ¥†
                    this.ganZhiElement = document.getElementById('ganZhiText');
                    this.lunarDateElement = document.getElementById('lunarDate');
                    this.solarTermElement = document.getElementById('solarTerm');
                    this.scrollElement = document.getElementById('lunarScrollDisplay');
                    
                    if (!this.ganZhiElement || !this.lunarDateElement || !this.solarTermElement) {
                        throw new Error('Êâæ‰∏çÂà∞ÂÜúÂéÜÊòæÁ§∫ÂÖÉÁ¥†');
                    }
                    
                    // Á´ãÂç≥Êõ¥Êñ∞‰∏ÄÊ¨°ÂÜúÂéÜ‰ø°ÊÅØ
                    this.updateLunarInfo();
                    
                    // Ëß¶ÂèëÂç∑ËΩ¥Â±ïÂºÄÂä®Áîª
                    if (this.config.scrollAnimation && this.scrollElement) {
                        setTimeout(() => {
                            this.scrollElement.classList.add('unfold');
                        }, 200);
                    }
                    
                    console.log('‚úÖ LunarCalendarModule ÂàùÂßãÂåñÊàêÂäü');
                    return { success: true, message: 'ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂàùÂßãÂåñÊàêÂäü' };
                    
                } catch (error) {
                    console.error('‚ùå LunarCalendarModule ÂàùÂßãÂåñÂ§±Ë¥•:', error);
                    this.showFallbackDisplay();
                    return { success: false, error: error.message };
                }
            }
            
            // Êõ¥Êñ∞ÂÜúÂéÜ‰ø°ÊÅØ
            updateLunarInfo() {
                try {
                    const now = new Date();
                    const lunarInfo = this.getCurrentLunarInfo(now);
                    
                    // Êõ¥Êñ∞Âπ≤ÊîØÁ∫™Âπ¥
                    if (this.config.showGanZhi && this.ganZhiElement) {
                        this.ganZhiElement.textContent = lunarInfo.ganZhi.year;
                    }
                    
                    // Êõ¥Êñ∞ÂÜúÂéÜÊó•Êúü
                    if (this.lunarDateElement) {
                        this.lunarDateElement.textContent = lunarInfo.lunar.formatted;
                    }
                    
                    // Êõ¥Êñ∞ËäÇÊ∞î
                    if (this.config.showSolarTerm && this.solarTermElement) {
                        this.solarTermElement.textContent = lunarInfo.solarTerm.name || 'Êó†ËäÇÊ∞î';
                    }
                    
                    console.log('üåô ÂÜúÂéÜ‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:', lunarInfo);
                    
                } catch (error) {
                    console.error('‚ùå ÂÜúÂéÜ‰ø°ÊÅØÊõ¥Êñ∞Â§±Ë¥•:', error);
                    this.showFallbackDisplay();
                }
            }
            
            // Ëé∑ÂèñÂΩìÂâçÂÜúÂéÜ‰ø°ÊÅØ
            getCurrentLunarInfo(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    
                    // Ëé∑ÂèñÂπ≤ÊîØÁ∫™Âπ¥
                    const ganZhi = {
                        year: lunar.getYearInGanZhi() + 'Âπ¥',
                        month: lunar.getMonthInGanZhi() + 'Êúà',
                        day: lunar.getDayInGanZhi() + 'Êó•'
                    };
                    
                    // Ëé∑ÂèñÂÜúÂéÜÊó•Êúü
                    const lunarDate = {
                        year: lunar.getYear(),
                        month: lunar.getMonth(),
                        day: lunar.getDay(),
                        monthName: lunar.getMonthInChinese(),
                        dayName: lunar.getDayInChinese(),
                        formatted: `${lunar.getMonthInChinese()}${lunar.getDayInChinese()}`
                    };
                    
                    // Ëé∑ÂèñËäÇÊ∞î‰ø°ÊÅØ
                    const jieQi = lunar.getCurrentJieQi();
                    const solarTerm = {
                        name: jieQi ? jieQi.getName() : null,
                        date: jieQi ? jieQi.getSolar().toYmd() : null
                    };
                    
                    return {
                        ganZhi: ganZhi,
                        lunar: lunarDate,
                        solarTerm: solarTerm,
                        formatted: this.formatLunarDisplay(ganZhi, lunarDate, solarTerm)
                    };
                    
                } catch (error) {
                    console.error('‚ùå ÂÜúÂéÜ‰ø°ÊÅØËÆ°ÁÆóÂ§±Ë¥•:', error);
                    return this.getFallbackLunarInfo();
                }
            }
            
            // Ê†ºÂºèÂåñÂÜúÂéÜÊòæÁ§∫
            formatLunarDisplay(ganZhi, lunar, solarTerm) {
                let formatted = this.config.displayFormat;
                
                formatted = formatted.replace('{ganZhi}', ganZhi.year);
                formatted = formatted.replace('{lunar}', lunar.formatted);
                formatted = formatted.replace('{solarTerm}', solarTerm.name || '');
                
                return formatted.trim();
            }
            
            // Ëé∑ÂèñÂ§áÁî®ÂÜúÂéÜ‰ø°ÊÅØ
            getFallbackLunarInfo() {
                const now = new Date();
                return {
                    ganZhi: {
                        year: 'Áî≤Ëæ∞Âπ¥',
                        month: 'Â∫öÁî≥Êúà',
                        day: '‰πôÂçØÊó•'
                    },
                    lunar: {
                        year: 2024,
                        month: 7,
                        day: 2,
                        monthName: '‰∏ÉÊúà',
                        dayName: 'Âàù‰∫å',
                        formatted: '‰∏ÉÊúàÂàù‰∫å'
                    },
                    solarTerm: {
                        name: 'Â§ÑÊöë',
                        date: null
                    },
                    formatted: 'Áî≤Ëæ∞Âπ¥ ‰∏ÉÊúàÂàù‰∫å Â§ÑÊöë'
                };
            }
            
            // ÊòæÁ§∫Â§áÁî®‰ø°ÊÅØ
            showFallbackDisplay() {
                try {
                    const fallback = this.getFallbackLunarInfo();
                    
                    if (this.ganZhiElement) {
                        this.ganZhiElement.textContent = fallback.ganZhi.year;
                    }
                    
                    if (this.lunarDateElement) {
                        this.lunarDateElement.textContent = fallback.lunar.formatted;
                    }
                    
                    if (this.solarTermElement) {
                        this.solarTermElement.textContent = fallback.solarTerm.name;
                    }
                    
                    console.log('‚ö†Ô∏è ‰ΩøÁî®Â§áÁî®ÂÜúÂéÜ‰ø°ÊÅØÊòæÁ§∫');
                    
                } catch (error) {
                    console.error('‚ùå Â§áÁî®ÊòæÁ§∫‰πüÂ§±Ë¥•‰∫Ü:', error);
                }
            }
            
            // Ëé∑ÂèñÂπ≤ÊîØÁ∫™Âπ¥
            getGanZhiYear(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    return lunar.getYearInGanZhi() + 'Âπ¥';
                } catch (error) {
                    console.error('‚ùå Ëé∑ÂèñÂπ≤ÊîØÁ∫™Âπ¥Â§±Ë¥•:', error);
                    return 'Áî≤Ëæ∞Âπ¥';
                }
            }
            
            // Ëé∑ÂèñÂÜúÂéÜÊó•Êúü
            getLunarDate(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    return `${lunar.getMonthInChinese()}${lunar.getDayInChinese()}`;
                } catch (error) {
                    console.error('‚ùå Ëé∑ÂèñÂÜúÂéÜÊó•ÊúüÂ§±Ë¥•:', error);
                    return '‰∏ÉÊúàÂàù‰∫å';
                }
            }
            
            // Ëé∑ÂèñÂΩìÂâçËäÇÊ∞î
            getCurrentSolarTerm(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    const jieQi = lunar.getCurrentJieQi();
                    
                    if (jieQi) {
                        return {
                            name: jieQi.getName(),
                            date: jieQi.getSolar().toYmd(),
                            isToday: jieQi.getSolar().toYmd() === solar.toYmd()
                        };
                    } else {
                        // Â¶ÇÊûúÂΩìÂâçÊ≤°ÊúâËäÇÊ∞îÔºåËé∑Âèñ‰∏ã‰∏Ä‰∏™ËäÇÊ∞î
                        const nextJieQi = lunar.getNextJieQi();
                        return {
                            name: nextJieQi ? `Ë∑ù${nextJieQi.getName()}` : 'Êó†ËäÇÊ∞î',
                            date: nextJieQi ? nextJieQi.getSolar().toYmd() : null,
                            isToday: false
                        };
                    }
                } catch (error) {
                    console.error('‚ùå Ëé∑ÂèñËäÇÊ∞îÂ§±Ë¥•:', error);
                    return {
                        name: 'Â§ÑÊöë',
                        date: null,
                        isToday: false
                    };
                }
            }
            
            // Ëé∑ÂèñËØ¶ÁªÜÁöÑËäÇÊ∞î‰ø°ÊÅØ
            getDetailedSolarTermInfo(date = new Date()) {
                try {
                    const solar = this.lunarLib.Solar.fromDate(date);
                    const lunar = solar.getLunar();
                    
                    const currentJieQi = lunar.getCurrentJieQi();
                    const nextJieQi = lunar.getNextJieQi();
                    const prevJieQi = lunar.getPrevJieQi();
                    
                    return {
                        current: currentJieQi ? {
                            name: currentJieQi.getName(),
                            date: currentJieQi.getSolar().toYmd(),
                            isToday: currentJieQi.getSolar().toYmd() === solar.toYmd()
                        } : null,
                        next: nextJieQi ? {
                            name: nextJieQi.getName(),
                            date: nextJieQi.getSolar().toYmd(),
                            daysUntil: this.calculateDaysBetween(solar.toDate(), nextJieQi.getSolar().toDate())
                        } : null,
                        prev: prevJieQi ? {
                            name: prevJieQi.getName(),
                            date: prevJieQi.getSolar().toYmd(),
                            daysSince: this.calculateDaysBetween(prevJieQi.getSolar().toDate(), solar.toDate())
                        } : null
                    };
                } catch (error) {
                    console.error('‚ùå Ëé∑ÂèñËØ¶ÁªÜËäÇÊ∞î‰ø°ÊÅØÂ§±Ë¥•:', error);
                    return null;
                }
            }
            
            // ËÆ°ÁÆó‰∏§‰∏™Êó•Êúü‰πãÈó¥ÁöÑÂ§©Êï∞
            calculateDaysBetween(date1, date2) {
                const timeDiff = Math.abs(date2.getTime() - date1.getTime());
                return Math.ceil(timeDiff / (1000 * 3600 * 24));
            }
            
            // Êõ¥Êñ∞ÈÖçÁΩÆ
            updateConfig(newConfig) {
                this.config = { ...this.config, ...newConfig };
                console.log('üîÑ LunarCalendarModule ÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞', this.config);
                
                // ÈáçÊñ∞Êõ¥Êñ∞ÊòæÁ§∫
                if (this.config.enabled) {
                    this.updateLunarInfo();
                }
            }
            
            // ÈîÄÊØÅÊ®°Âùó
            destroy() {
                this.lunarLib = null;
                this.ganZhiElement = null;
                this.lunarDateElement = null;
                this.solarTermElement = null;
                this.scrollElement = null;
                console.log('üóëÔ∏è LunarCalendarModule Â∑≤ÈîÄÊØÅ');
            }
        }
        
        // ÂÖ®Â±ÄÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂÆû‰æã
        let lunarCalendarModule = null;
        
        // ËÆ°ÁÆóÈô™‰º¥Â§©Êï∞ - ‰ªéconfig.jsËØªÂèñÈÖçÁΩÆÔºåÂü∫‰∫éÂåó‰∫¨Êó∂Èó¥ÊØèÂ§©ÈÄíÂ¢û
        function updateDayCounter() {
            // ‰ΩøÁî®config.js‰∏≠ÁöÑÈÖçÁΩÆ
            const displayDays = calculateDayCounter();

            // Êõ¥Êñ∞Êï∞Â≠ó
            const counterElement = document.getElementById('dayCounter');
            if (counterElement) {
                counterElement.textContent = displayDays;
                console.log('üìÖ Èô™‰º¥Â§©Êï∞Êõ¥Êñ∞:', displayDays, '(ÈÖçÁΩÆÊñá‰ª∂: config.js)');
            }

            // Êõ¥Êñ∞ÊñáÊú¨Ôºà‰ªéÈÖçÁΩÆ‰∏≠ËØªÂèñÔºâ
            const counterTextElement = document.getElementById('counterText');
            if (counterTextElement) {
                let counterText = 'Â§©ÁöÑÊ±üÊπñÊÉÖÁºò'; // ÈªòËÆ§ÂÄº

                // Â∞ùËØï‰ªéUSER_SIMPLE_CONFIGËØªÂèñ
                if (typeof USER_SIMPLE_CONFIG !== 'undefined' &&
                    USER_SIMPLE_CONFIG.texts &&
                    USER_SIMPLE_CONFIG.texts.pages &&
                    USER_SIMPLE_CONFIG.texts.pages.counterText) {
                    counterText = USER_SIMPLE_CONFIG.texts.pages.counterText;
                }
                // Â∞ùËØï‰ªéWEBSITE_CONFIGËØªÂèñ
                else if (typeof WEBSITE_CONFIG !== 'undefined' &&
                         WEBSITE_CONFIG.uiText &&
                         WEBSITE_CONFIG.uiText.pages &&
                         WEBSITE_CONFIG.uiText.pages.about &&
                         WEBSITE_CONFIG.uiText.pages.about.elements &&
                         WEBSITE_CONFIG.uiText.pages.about.elements.counterText) {
                    counterText = WEBSITE_CONFIG.uiText.pages.about.elements.counterText;
                }

                counterTextElement.textContent = counterText;
                console.log('üìù ËÆ°Êï∞Âô®ÊñáÊú¨Êõ¥Êñ∞:', counterText);
            }
        }
        
        // Âä†ËΩΩÊïÖ‰∫ãÂÜÖÂÆπ
        function loadStories() {
            const stories = WEBSITE_CONFIG.userCustomization.stories;
            const storyContainer = document.querySelector('.story-container');

            // ÊâæÂà∞Èô™‰º¥ËÆ°Êï∞Âô®ÂêéÈù¢ÁöÑ‰ΩçÁΩÆ
            const counterSection = document.querySelector('.counter-section');

            // Ê∏ÖÈô§Áé∞ÊúâÁöÑÊïÖ‰∫ãÂÜÖÂÆπÔºà‰øùÁïôËÆ°Êï∞Âô®Ôºâ
            const existingStories = storyContainer.querySelectorAll('.story-section');
            existingStories.forEach(story => story.remove());

            // Ê∑ªÂä†Êñ∞ÁöÑÊïÖ‰∫ãÂÜÖÂÆπ
            stories.forEach(story => {
                const storyElement = document.createElement('div');
                storyElement.className = 'story-section';
                storyElement.innerHTML = `
                    <h3 class="story-title">${story.title}</h3>
                    <div class="story-content">${story.content}</div>
                    <div class="story-poem">${story.poem}</div>
                `;
                storyContainer.appendChild(storyElement);
            });
        }

        // ÂàùÂßãÂåñÂÜúÂéÜÊòæÁ§∫Ê®°Âùó
        function initLunarCalendarModule() {
            try {
                // ‰ªéconfig.jsËé∑ÂèñÂÜúÂéÜÊòæÁ§∫ÈÖçÁΩÆ
                const lunarConfig = ConfigManager ? ConfigManager.get('lunarCalendar', {}) : USER_SIMPLE_CONFIG.lunarCalendar || {};

                // ÂàõÂª∫ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂÆû‰æã
                lunarCalendarModule = new LunarCalendarModule(lunarConfig);

                // ÂàùÂßãÂåñÊ®°Âùó
                const result = lunarCalendarModule.init();

                if (result.success) {
                    console.log('‚úÖ ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂêØÂä®ÊàêÂäü');
                } else {
                    console.warn('‚ö†Ô∏è ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂêØÂä®Â§±Ë¥•:', result.message);
                }

                return result;

            } catch (error) {
                console.error('‚ùå ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÂàùÂßãÂåñÂºÇÂ∏∏:', error);
                return { success: false, error: error.message };
            }
        }

        // ÂàùÂßãÂåñÊ®°ÂùóÁÆ°ÁêÜÂô®ÂíåÊâÄÊúâÊ®°Âùó
        function initModuleManager() {
            try {
                console.log('üîß ÂºÄÂßãÈÖçÁΩÆÊ®°ÂùóÁÆ°ÁêÜÂô®...');

                // Ê≥®ÂÜåÊó∂Èó¥ÊòæÁ§∫Ê®°Âùó
                moduleManager.register('timeDisplay', TimeDisplayModule, {
                    config: ConfigManager ? ConfigManager.get('timeDisplay', {}) : USER_SIMPLE_CONFIG.timeDisplay || {},
                    autoInit: true,
                    priority: 10,
                    initDelay: 100 // Âª∂Ëøü100msÁ°Æ‰øùÈÖçÁΩÆÂ∑≤Âä†ËΩΩ
                });

                // Ê≥®ÂÜåÂÜúÂéÜÊòæÁ§∫Ê®°Âùó
                moduleManager.register('lunarCalendar', LunarCalendarModule, {
                    config: ConfigManager ? ConfigManager.get('lunarCalendar', {}) : USER_SIMPLE_CONFIG.lunarCalendar || {},
                    autoInit: true,
                    priority: 5,
                    initDelay: 200 // Âª∂Ëøü200msÁ°Æ‰øùlunarÂ∫ìÂ∑≤Âä†ËΩΩ
                });

                // ÂàùÂßãÂåñÊâÄÊúâÊ®°Âùó
                moduleManager.initAllModules().then(() => {
                    // Ëé∑ÂèñÊ®°ÂùóÂÆû‰æã
                    timeDisplayModule = moduleManager.getInstance('timeDisplay');
                    lunarCalendarModule = moduleManager.getInstance('lunarCalendar');

                    console.log('‚úÖ ÊâÄÊúâÊ®°ÂùóÈÄöËøáÁÆ°ÁêÜÂô®ÂàùÂßãÂåñÂÆåÊàê');
                }).catch(error => {
                    console.error('‚ùå Ê®°ÂùóÁÆ°ÁêÜÂô®ÂàùÂßãÂåñÂ§±Ë¥•:', error);
                });

            } catch (error) {
                console.error('‚ùå Ê®°ÂùóÁÆ°ÁêÜÂô®ÈÖçÁΩÆÂ§±Ë¥•:', error);
            }
        }

        // üöÄ È¢ÑÂä†ËΩΩËÑöÊú¨ÔºöÁ´ãÂç≥ÈöêËóèÈ°µÈù¢Èò≤Ê≠¢Èó™ÁÉÅ
        (function() {
            document.documentElement.style.visibility = 'hidden';
            document.documentElement.style.opacity = '0';

            // üõ°Ô∏è ÂÆâÂÖ®Êú∫Âà∂Ôºö3ÁßíÂêéÂº∫Âà∂ÊòæÁ§∫È°µÈù¢ÔºàÈò≤Ê≠¢JSÂ§±Ë¥•Ôºâ
            setTimeout(function() {
                if (!document.documentElement.classList.contains('loaded')) {
                    console.warn('‚ö†Ô∏è È°µÈù¢ÂàùÂßãÂåñË∂ÖÊó∂ÔºåÂº∫Âà∂ÊòæÁ§∫È°µÈù¢');
                    document.documentElement.classList.add('force-show');
                }
            }, 3000);
        })();

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìã ÊÉÖÁºòÂøóÈ°µÈù¢DOMÂä†ËΩΩÂÆåÊàê');

            // Ê£ÄÊü•ÂøÖË¶ÅÁöÑ‰æùËµñ
            if (typeof TimeDisplayModule === 'undefined') {
                console.error('‚ùå TimeDisplayModuleÊú™ÂÆö‰πâ');
            }
            if (typeof LunarCalendarModule === 'undefined') {
                console.error('‚ùå LunarCalendarModuleÊú™ÂÆö‰πâ');
            }
            if (typeof moduleManager === 'undefined') {
                console.error('‚ùå moduleManagerÊú™ÂÆö‰πâÔºåËØ∑Ê£ÄÊü•module-manager.jsÊòØÂê¶Ê≠£Á°ÆÂä†ËΩΩ');
            }

            // ‰ΩøÁî®ÂÖ¨ÂÖ±ÂàùÂßãÂåñÊ®°Âùó
            if (typeof initPageCommon === 'function') {
                initPageCommon('ÊÉÖÁºòÂøóÈ°µÈù¢');
            } else {
                console.error('‚ùå initPageCommonÂáΩÊï∞Êú™ÊâæÂà∞ÔºåËØ∑Ê£ÄÊü•common-init.jsÊòØÂê¶Ê≠£Á°ÆÂä†ËΩΩ');
            }

            // Áõ¥Êé•ÊâßË°åÂàùÂßãÂåñÔºà‰∏ç‰æùËµñÂõûË∞ÉÔºâ
            setTimeout(() => {
                updateDayCounter();
                loadStories();

                // Ê£ÄÊü•Ê®°ÂùóÁÆ°ÁêÜÂô®ÊòØÂê¶ÂèØÁî®
                if (typeof moduleManager !== 'undefined') {
                    // ‰ΩøÁî®Ê®°ÂùóÁÆ°ÁêÜÂô®ÂàùÂßãÂåñÊâÄÊúâÊ®°Âùó
                    initModuleManager();
                } else {
                    // ÈôçÁ∫ßÊñπÊ°àÔºöÁõ¥Êé•ÂàùÂßãÂåñÊ®°Âùó
                    console.warn('‚ö†Ô∏è Ê®°ÂùóÁÆ°ÁêÜÂô®‰∏çÂèØÁî®Ôºå‰ΩøÁî®ÈôçÁ∫ßÊñπÊ°à');
                    if (typeof TimeDisplayModule !== 'undefined') {
                        try {
                            timeDisplayModule = new TimeDisplayModule();
                            timeDisplayModule.init();
                            console.log('‚úÖ Êó∂Èó¥Ê®°ÂùóÈôçÁ∫ßÂàùÂßãÂåñÊàêÂäü');
                        } catch (error) {
                            console.error('‚ùå Êó∂Èó¥Ê®°ÂùóÈôçÁ∫ßÂàùÂßãÂåñÂ§±Ë¥•:', error);
                        }
                    }

                    if (typeof LunarCalendarModule !== 'undefined') {
                        try {
                            lunarCalendarModule = new LunarCalendarModule();
                            lunarCalendarModule.init();
                            console.log('‚úÖ ÂÜúÂéÜÊ®°ÂùóÈôçÁ∫ßÂàùÂßãÂåñÊàêÂäü');
                        } catch (error) {
                            console.error('‚ùå ÂÜúÂéÜÊ®°ÂùóÈôçÁ∫ßÂàùÂßãÂåñÂ§±Ë¥•:', error);
                        }
                    }
                }

                // ÊØèÂ∞èÊó∂Êõ¥Êñ∞‰∏ÄÊ¨°ËÆ°Êï∞Âô®ÔºàÁ°Æ‰øùË∑®Êó•ÊúüÊó∂ÂèäÊó∂Êõ¥Êñ∞Ôºâ
                setInterval(updateDayCounter, 3600000); // 1Â∞èÊó∂ = 3600000ÊØ´Áßí

                // ÁõëÂê¨ÈÖçÁΩÆÊõ¥Êñ∞‰∫ã‰ª∂ÔºåÈáçÊñ∞ÂàùÂßãÂåñÊ®°Âùó
                window.addEventListener('userConfigUpdated', function(event) {
                    console.log('üîÑ Ê£ÄÊµãÂà∞ÈÖçÁΩÆÊõ¥Êñ∞ÔºåÈáçÊñ∞ÂàùÂßãÂåñÊ®°Âùó');

                    if (typeof moduleManager !== 'undefined') {
                        // ÈîÄÊØÅÊâÄÊúâÊ®°Âùó
                        moduleManager.destroyAllModules().then(() => {
                            // ÈáçÊñ∞ÂàùÂßãÂåñÊ®°ÂùóÁÆ°ÁêÜÂô®
                            setTimeout(() => {
                                initModuleManager();
                            }, 100);
                        }).catch(error => {
                            console.error('‚ùå Ê®°ÂùóÈáçÊñ∞ÂàùÂßãÂåñÂ§±Ë¥•:', error);
                        });
                    }
                });
            }, 200); // Â¢ûÂä†Âª∂ËøüÁ°Æ‰øùÊâÄÊúâËÑöÊú¨Âä†ËΩΩÂÆåÊàê

            // Ê∑ªÂä†È°µÈù¢ÁâπÂÆöÁöÑÂàùÂßãÂåñÈÄªËæë
            if (typeof addPageInitCallback === 'function') {
                addPageInitCallback(() => {
                    // ÂèØ‰ª•Ê∑ªÂä†ÂÖ∂‰ªñÂàùÂßãÂåñÈÄªËæë
                }, 'ÊÉÖÁºòÂøóÁâπÊúâÂäüËÉΩÂàùÂßãÂåñ');
            }

            console.log('‚úÖ ÊÉÖÁºòÂøóÈ°µÈù¢ÂàùÂßãÂåñÂÆåÊàêÔºÅ');

            // üé® È°µÈù¢ÂàùÂßãÂåñÂÆåÊàêÔºåÊòæÁ§∫È°µÈù¢ÔºàÈò≤Ê≠¢Èó™ÁÉÅÔºâ
            setTimeout(() => {
                document.documentElement.classList.add('loaded');
                document.documentElement.style.visibility = 'visible';
                document.documentElement.style.opacity = '1';
                console.log('üé® È°µÈù¢Ê∏≤ÊüìÂÆåÊàêÔºåÈò≤Èó™ÁÉÅÂ§ÑÁêÜÁªìÊùü');
            }, 100); // Áü≠ÊöÇÂª∂ËøüÁ°Æ‰øùÊâÄÊúâÂÜÖÂÆπÈÉΩÂ∑≤Êõ¥Êñ∞
        });

        // üîß ÂÖ®Â±ÄÂáΩÊï∞Ôºö‰æõÁî®Êà∑ÊµãËØïÊï¥ÁÇπÁâπÊïà
        window.testHourlyEffect = function() {
            if (timeDisplayModule) {
                timeDisplayModule.testHourlyEffect();
            } else {
                console.warn('‚ö†Ô∏è Êó∂Èó¥ÊòæÁ§∫Ê®°ÂùóÊú™ÂàùÂßãÂåñ');
            }
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöËé∑ÂèñÊó∂Èó¥Ê®°Âùó‰ø°ÊÅØ
        window.getTimeModuleInfo = function() {
            const timeModule = moduleManager.getInstance('timeDisplay');
            if (timeModule) {
                return timeModule.getCurrentTimeInfo();
            } else {
                console.warn('‚ö†Ô∏è Êó∂Èó¥ÊòæÁ§∫Ê®°ÂùóÊú™ÂàùÂßãÂåñ');
                return null;
            }
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöËé∑ÂèñÂÜúÂéÜ‰ø°ÊÅØ
        window.getLunarInfo = function() {
            const lunarModule = moduleManager.getInstance('lunarCalendar');
            if (lunarModule) {
                return lunarModule.getCurrentLunarInfo();
            } else {
                console.warn('‚ö†Ô∏è ÂÜúÂéÜÊòæÁ§∫Ê®°ÂùóÊú™ÂàùÂßãÂåñ');
                return null;
            }
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöËé∑ÂèñÊ®°ÂùóÁÆ°ÁêÜÂô®Áä∂ÊÄÅ
        window.getModuleManagerStatus = function() {
            return {
                isInitialized: moduleManager.isInitialized,
                moduleStates: moduleManager.getAllModuleStates(),
                initOrder: moduleManager.initOrder
            };
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöÊâãÂä®ÂàùÂßãÂåñÊ®°Âùó
        window.initModule = function(moduleName, config = {}) {
            return moduleManager.initModule(moduleName, config);
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöÊâãÂä®ÈîÄÊØÅÊ®°Âùó
        window.destroyModule = function(moduleName) {
            return moduleManager.destroyModule(moduleName);
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöÊ≥®ÂÜåÊñ∞Ê®°ÂùóÔºà‰æõ‰∫åÊ¨°ÂºÄÂèë‰ΩøÁî®Ôºâ
        window.registerModule = function(name, moduleClass, options = {}) {
            return moduleManager.register(name, moduleClass, options);
        };

        // üîß ÂÖ®Â±ÄÂáΩÊï∞ÔºöËé∑ÂèñÊ®°ÂùóÂÆû‰æãÔºà‰æõ‰∫åÊ¨°ÂºÄÂèë‰ΩøÁî®Ôºâ
        window.getModuleInstance = function(moduleName) {
            return moduleManager.getInstance(moduleName);
        };
    </script>
</body>
</html>